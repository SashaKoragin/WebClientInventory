<h1>Техника</h1>
<mat-tab-group [style.display]="isload ? 'none' : 'grid'">
        <mat-tab label="Принтеры">
            <div class="mat-elevation-z8">
                <form class="search">
                  <mat-form-field class="search_blok">
                        <span matPrefix><i class="material-icons">youtube_searched_for</i></span>
                        <input matInput (keyup)="printer.filterstable($event.target.value)" placeholder="Поиск данных">
                  </mat-form-field>
                  <button class="actual" mat-button (click)="excel.ExportTOExcel(tableprinters)">Выгрузить принтера</button>
                </form>
        <div class="tables" #TABLEPRINTERS >    
            <table mat-table [dataSource]="printer.dataSource" matSort>
                <ng-container matColumnDef="IdModel">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header>Id</th>
                      <td [style.background]="row.Statusing?.Color" mat-cell *matCellDef="let row" [matTooltip]="row.IdPrinter">
                             {{row.IdPrinter}}
                      </td>
                </ng-container>

                <ng-container matColumnDef="User.Name">
                  <th mat-header-cell *matHeaderCellDef mat-sort-header>Пользователь</th>
                    <td [style.background]="row.Statusing?.Color" mat-cell *matCellDef="let row">
                      <Label [style.display]="row.ModelIsEdit ? 'none':'inline'" [matTooltip]="row.User?.Name">{{row.User?.Name}}</Label>
                      <div [ngClass]=row.IdPrinter.toString() id="{{row.IdPrinter}}" [style.display]="!row.ModelIsEdit ? 'none':'block'">
                      </div>
                    </td>
              </ng-container>

              <ng-container matColumnDef="Supply.DatePostavki">
                  <th mat-header-cell *matHeaderCellDef mat-sort-header>Фактическая дата поставки</th>
                    <td [style.background]="row.Statusing?.Color" mat-cell *matCellDef="let row" [matTooltip]="dp.transform(row.Supply?.DatePostavki,'dd-MM-yyyy')">
                       <div [style.display]="row.ModelIsEdit ? 'none':'inline'">{{dp.transform(row.Supply?.DatePostavki,'dd-MM-yyyy')}}</div>
                        <div [ngClass]=row.IdPrinter.toString() id="{{row.IdPrinter}}" [style.display]="!row.ModelIsEdit ? 'none':'block'">
                        </div>
                    </td>
              </ng-container>

                <ng-container matColumnDef="FullProizvoditel.NameProizvoditel">
                  <th mat-header-cell *matHeaderCellDef mat-sort-header>Производитель</th>
                    <td [style.background]="row.Statusing?.Color" mat-cell *matCellDef="let row" [matTooltip]="row.FullProizvoditel?.NameProizvoditel">
                      <Label [style.display]="row.ModelIsEdit ? 'none':'inline'">{{row.FullProizvoditel?.NameProizvoditel}}</Label>
                        <div [ngClass]=row.IdPrinter.toString() id="{{row.IdPrinter}}" [style.display]="!row.ModelIsEdit ? 'none':'block'">
                        </div>
                    </td>
              </ng-container>
          
              <ng-container matColumnDef="FullModel.NameModel">
                      <th mat-header-cell *matHeaderCellDef mat-sort-header>Модель</th>
                        <td [style.background]="row.Statusing?.Color" mat-cell *matCellDef="let row" [matTooltip]="row.FullModel?.NameModel">
                          <Label [style.display]="row.ModelIsEdit ? 'none':'inline'">{{row.FullModel?.NameModel}}</Label>
                            <div [ngClass]=row.IdPrinter.toString() id="{{row.IdPrinter}}" [style.display]="!row.ModelIsEdit ? 'none':'block'">
                            </div>
                        </td>
                  </ng-container>


                 <ng-container matColumnDef="ZavNumber">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header>Зав.Номер</th>
                      <td [style.background]="row.Statusing?.Color" mat-cell *matCellDef="let row" [matTooltip]="row.ZavNumber">
                        <Label [style.display]="row.ModelIsEdit ? 'none':'block'">{{row.ZavNumber}}</Label> 
                          <div [ngClass]=row.IdPrinter.toString() id="{{row.IdPrinter}}" [style.display]="!row.ModelIsEdit ? 'none':'block'">
                          </div>
                      </td>
                </ng-container>
            
                <ng-container matColumnDef="ServiceNumber">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header>Сервисный номер</th>
                      <td [style.background]="row.Statusing?.Color" mat-cell *matCellDef="let row" [matTooltip]="row.ServiceNumber">
                        <Label [style.display]="row.ModelIsEdit ? 'none':'inline'">{{row.ServiceNumber}}</Label> 
                          <div [ngClass]=row.IdPrinter.toString() id="{{row.IdPrinter}}" [style.display]="!row.ModelIsEdit ? 'none':'block'">
                          </div>
                        </td>
                </ng-container>
            
                <ng-container matColumnDef="InventarNumber">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header>Инвентарный номер</th>
                      <td [style.background]="row.Statusing?.Color" mat-cell *matCellDef="let row"  [matTooltip]="row.InventarNumber">
                        <Label [style.display]="row.ModelIsEdit ? 'none':'inline'">{{row.InventarNumber}}</Label> 
                          <div [ngClass]=row.IdPrinter.toString() id="{{row.IdPrinter}}" [style.display]="!row.ModelIsEdit ? 'none':'block'">
                          </div>
                      </td>
                </ng-container>
            
                <ng-container matColumnDef="IpAdress">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header>IP адрес</th>
                      <td [style.background]="row.Statusing?.Color" mat-cell *matCellDef="let row" [matTooltip]="row.IpAdress">
                        <Label [style.display]="row.ModelIsEdit ? 'none':'inline'">{{row.IpAdress}}</Label>
                          <div [ngClass]=row.IdPrinter.toString() id="{{row.IdPrinter}}" [style.display]="!row.ModelIsEdit ? 'none':'block'">
                          </div>
                      </td>
                </ng-container>

                <ng-container matColumnDef="Coment">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header>Коментарий</th>
                      <td [style.background]="row.Statusing?.Color" mat-cell *matCellDef="let row" [matTooltip]="row.Coment">
                        <Label [style.display]="row.ModelIsEdit ? 'none':'inline'">{{row.Coment}}</Label>
                          <div [ngClass]=row.IdPrinter.toString() id="{{row.IdPrinter}}" [style.display]="!row.ModelIsEdit ? 'none':'block'">
                          </div>
                      </td>
                </ng-container>

                     <ng-container matColumnDef="Kabinet.NumberKabinet">
                            <th mat-header-cell *matHeaderCellDef mat-sort-header>Кабинет</th>
                              <td [style.background]="row.Statusing?.Color" mat-cell *matCellDef="let row" [matTooltip]="row.Kabinet?.NumberKabinet">
                                <Label [style.display]="row.ModelIsEdit ? 'none':'inline'">{{row.Kabinet?.NumberKabinet}}</Label>
                                  <div [ngClass]=row.IdPrinter.toString() id="{{row.IdPrinter}}" [style.display]="!row.ModelIsEdit ? 'none':'block'">
                                  </div>
                              </td>
                        </ng-container> 

                        <ng-container matColumnDef="Statusing.Name">
                                <th mat-header-cell *matHeaderCellDef mat-sort-header>Статус</th>
                                  <td [style.background]="row.Statusing?.Color" mat-cell *matCellDef="let row" [matTooltip]="row.Statusing?.Name">
                                    <Label [style.display]="row.ModelIsEdit ? 'none':'inline'">{{row.Statusing?.Name}}</Label>
                                      <div [ngClass]=row.IdPrinter.toString() id="{{row.IdPrinter}}" [style.display]="!row.ModelIsEdit ? 'none':'block'">
                                      </div>
                                  </td>
                            </ng-container>
                            
                         <ng-container matColumnDef="ActionsColumn">  
                            <th mat-header-cell *matHeaderCellDef>
                              <ng-template [ngxPermissionsExcept]="['Оператор','Просмотр']">
                                <button mat-icon-button color="primary" [disabled]="printer.isAdd" focusable="false" (click)="printer.add()">
                                    <i class="material-icons">person_add</i>
                                </button>
                              </ng-template>
                            </th>
                            <td [style.background]="row.Statusing?.Color" mat-cell *matCellDef="let row">
                                <ng-template [ngxPermissionsExcept]="['Просмотр']">
                                 <button mat-icon-button *ngIf="!row.ModelIsEdit" [disabled]="printer.isEdit" color="accent" (click)="printer.edit(row)">
                                  <i class="material-icons">edit</i>
                                 </button>
                                </ng-template>
                            <div *ngIf="row.ModelIsEdit" >
                                    <button  mat-icon-button type="submit" [disabled]="printer.modelvalid.getRowValidatorModel[1].invalid" color="primary" focusable="false" (click)="printer.save()">
                                            <i class="material-icons">check</i>
                                   </button>
                                   <button mat-icon-button color="primary" focusable="false" (click)="printer.cancel(row)">
                                        <i class="material-icons">cancel</i>
                                    </button>
                            </div>
                         </td>
                         </ng-container>
                        <tr mat-header-row *matHeaderRowDef="printer.displayedColumns; sticky: true"></tr>
                        <tr mat-row *matRowDef="let row; columns: printer.displayedColumns;"></tr>
                    </table>
              </div>
                    <mat-paginator class="paginator" #printers [pageSizeOptions]="[5, 10, 25, paginatorptinter.length]" showFirstLastButtons="true"></mat-paginator> 
                  </div>

                  <div [style.display]="'none'" #TEMPLATEPRINTER>
                      <mat-form-field id="template" class="validation">
                          <mat-select (click)="printer.calbackfiltersAll()" [placeholder]="printer.model.User?.Name" [(ngModel)]="printer.model.User" name="user">
                             <mat-select-filter class="filter" [placeholder]="printer.model.User?.Name" [displayMember]="'Name'" [array]="printer.user" (filteredReturn)="printer.filteredUser =$event">
                              </mat-select-filter>
                              <mat-option [value]='null'>None</mat-option>
                              <mat-option *ngFor="let user of printer.filteredUser" [value]="user">
                                  {{user.Name}}
                                </mat-option>
                          </mat-select>
                      </mat-form-field>
                      <mat-form-field id="template" class="validation">
                          <mat-select (click)="printer.calbackfiltersAll()"  [placeholder]="printer.model.Supply?.DatePostavki" [(ngModel)]="printer.model.Supply" name="supply">
                             <mat-select-filter class="filter" [placeholder]="printer.model.Supply?.DatePostavki" [displayMember]="'DatePostavki'" [array]="printer.supples" (filteredReturn)="printer.filteredSupples =$event">
                              </mat-select-filter>
                                <mat-option [value]='null'>None</mat-option>
                                <mat-option *ngFor="let supply of printer.filteredSupples" [value]="supply">
                                  {{datetemplate(supply.DatePostavki)}}
                                </mat-option>
                          </mat-select>
                      </mat-form-field>
                      <mat-form-field id="template" class="validation">
                          <mat-select (click)="printer.calbackfiltersAll()" [formControl]="printer.modelvalid?.getRowValidatorModel[1].get('Proizvoditel')" [placeholder]="printer.model.FullProizvoditel?.NameProizvoditel" [(ngModel)]="printer.model.FullProizvoditel" name="proizvoditel">
                             <mat-select-filter class="filter" [placeholder]="printer.model.FullProizvoditel?.NameProizvoditel" [displayMember]="'NameProizvoditel'" [array]="printer.proizvoditel" (filteredReturn)="printer.filteredProizvoditel =$event">
                              </mat-select-filter>
                                <mat-option [value]='null'>None</mat-option>
                                <mat-option *ngFor="let proizvoditel of printer.filteredProizvoditel" [value]="proizvoditel">
                                  {{proizvoditel.NameProizvoditel}}
                                </mat-option>
                          </mat-select>
                      </mat-form-field>
                      <mat-form-field id="template" class="validation">
                          <mat-select (click)="printer.calbackfiltersAll()" [formControl]="printer.modelvalid?.getRowValidatorModel[1].get('Model')" [placeholder]="printer.model.FullModel?.NameModel" [(ngModel)]="printer.model.FullModel" name="models">
                             <mat-select-filter class="filter" [placeholder]="printer.model.FullModel?.NameModel" [displayMember]="'NameModel'" [array]="printer.models" (filteredReturn)="printer.filteredModels =$event">
                              </mat-select-filter>
                                <mat-option [value]='null'>None</mat-option>
                                <mat-option *ngFor="let models of printer.filteredModels" [value]="models">
                                  {{models.NameModel}}
                                </mat-option>
                          </mat-select>
                      </mat-form-field>
                      <mat-form-field id="template" class="validation">
                          <input matInput [formControl]="printer.modelvalid?.getRowValidatorModel[1].get('ZavNum')" placeholder="Заводской номер" [ngModel]="printer.model?.ZavNumber" (ngModelChange)="printer.model.ZavNumber = $event"/>
                      </mat-form-field> 
                      <mat-form-field id="template" class="validation">
                          <input matInput  placeholder="Сервисный номер" [ngModel]="printer.model?.ServiceNumber" (ngModelChange)="printer.model.ServiceNumber = $event"/>
                      </mat-form-field>
                      <mat-form-field id="template" class="validation">
                          <input matInput  [formControl]="printer.modelvalid?.getRowValidatorModel[1].get('InventarNum')" placeholder="Инвентарный номер" [ngModel]="printer.model?.InventarNumber" (ngModelChange)="printer.model.InventarNumber = $event"/>
                      </mat-form-field>
                      <mat-form-field id="template" class="validation">
                          <input matInput placeholder="IP принтера" [ngModel]="printer.model?.IpAdress" (ngModelChange)="printer.model.IpAdress = $event"/>
                      </mat-form-field>
                      <mat-form-field id="template" class="validation">
                          <input matInput placeholder="Коментарий" [ngModel]="printer.model?.Coment" (ngModelChange)="printer.model.Coment = $event"/>
                      </mat-form-field>
                      <mat-form-field id="template" class="validation">
                          <mat-select (click)="printer.calbackfiltersAll()" [placeholder]="printer.model.Kabinet?.NumberKabinet" [(ngModel)]="printer.model.Kabinet" name="kabinet">
                             <mat-select-filter class="filter" [placeholder]="printer.model.Kabinet?.NumberKabinet"  [displayMember]="'NumberKabinet'" [array]="printer.kabinet" (filteredReturn)="printer.filteredKabinet =$event">
                              </mat-select-filter>
                                <mat-option [value]='null'>None</mat-option>
                                <mat-option *ngFor="let kabinet of printer.filteredKabinet" [value]="kabinet">
                                  {{kabinet.NumberKabinet}}
                                </mat-option>
                          </mat-select>
                      </mat-form-field>
                      <mat-form-field id="template" class="validation">
                          <mat-select (click)="printer.calbackfiltersAll()" [placeholder]="printer.model.Statusing?.Name" [(ngModel)]="printer.model.Statusing" name="status">
                             <mat-select-filter class="filter" [placeholder]="printer.model.Statusing?.Name" [array]="printer.statusing" (filteredReturn)="printer.filteredStatusing =$event">
                              </mat-select-filter>
                                <mat-option [value]='null'>None</mat-option>
                                <mat-option *ngFor="let status of printer.filteredStatusing" [value]="status">
                                  {{status.Name}}
                                </mat-option>
                          </mat-select>
                      </mat-form-field>
              </div>

        </mat-tab>
         <mat-tab label="Сканеры и камеры">
          <div class="mat-elevation-z8">
            <form class="search">
              <mat-form-field class="search_blok">
                    <span matPrefix><i class="material-icons">youtube_searched_for</i></span>
                    <input matInput (keyup)="scaner.filterstable($event.target.value)" placeholder="Поиск данных">
              </mat-form-field>
              <button class="actual" mat-button (click)="excel.ExportTOExcel(tablescaners)">Выгрузить сканеры и камеры</button>
            </form>
      <div class="tables" #TABLESCANERS > 
        <table mat-table [dataSource]="scaner.dataSource" matSort>
            <ng-container matColumnDef="IdModel">
                <th mat-header-cell *matHeaderCellDef mat-sort-header>Id</th>
                  <td [style.background]="row.Statusing?.Color" mat-cell *matCellDef="let row" [matTooltip]="row.IdScaner">
                         {{row.IdScaner}}
                  </td>
            </ng-container>


            <ng-container matColumnDef="User.Name">
                <th mat-header-cell *matHeaderCellDef mat-sort-header>Пользователь</th>
                  <td [style.background]="row.Statusing?.Color" mat-cell *matCellDef="let row" [matTooltip]="row.User?.Name">
                    <Label [style.display]="row.ModelIsEdit ? 'none':'inline'">{{row.User?.Name}}</Label>
                      <div [ngClass]=row.IdScaner.toString() id="{{row.IdScaner}}" [style.display]="!row.ModelIsEdit ? 'none':'block'">
                      </div>
                  </td>
            </ng-container>

            <ng-container matColumnDef="Supply.DatePostavki">
                <th mat-header-cell *matHeaderCellDef mat-sort-header>Фактическая дата поставки</th>
                  <td [style.background]="row.Statusing?.Color" mat-cell *matCellDef="let row" [matTooltip]="dp.transform(row.Supply?.DatePostavki,'dd-MM-yyyy')">
                    <Label [style.display]="row.ModelIsEdit ? 'none':'inline'">{{dp.transform(row.Supply?.DatePostavki,'dd-MM-yyyy')}}</Label>
                      <div [ngClass]=row.IdScaner.toString() id="{{row.IdScaner}}" [style.display]="!row.ModelIsEdit ? 'none':'block'">
                      </div>
                  </td>
            </ng-container>

            <ng-container matColumnDef="FullProizvoditel.NameProizvoditel">
              <th mat-header-cell *matHeaderCellDef mat-sort-header>Производитель</th>
                <td [style.background]="row.Statusing?.Color" mat-cell *matCellDef="let row" [matTooltip]="row.FullProizvoditel?.NameProizvoditel">
                  <Label [style.display]="row.ModelIsEdit ? 'none':'inline'">{{row.FullProizvoditel?.NameProizvoditel}}</Label>
                    <div [ngClass]=row.IdScaner.toString() id="{{row.IdScaner}}" [style.display]="!row.ModelIsEdit ? 'none':'block'">
                    </div>
                </td>
          </ng-container>
      
          <ng-container matColumnDef="FullModel.NameModel">
                  <th mat-header-cell *matHeaderCellDef mat-sort-header>Модель</th>
                    <td [style.background]="row.Statusing?.Color" mat-cell *matCellDef="let row" [matTooltip]="row.FullModel?.NameModel">
                      <Label [style.display]="row.ModelIsEdit ? 'none':'inline'">{{row.FullModel?.NameModel}}</Label>
                        <div [ngClass]=row.IdScaner.toString() id="{{row.IdScaner}}" [style.display]="!row.ModelIsEdit ? 'none':'block'">
                        </div>
                    </td>
              </ng-container>


             <ng-container matColumnDef="ZavNumber">
                <th mat-header-cell *matHeaderCellDef mat-sort-header>Зав.Номер</th>
                  <td [style.background]="row.Statusing?.Color" mat-cell *matCellDef="let row" [matTooltip]="row.ZavNumber">
                    <Label [style.display]="row.ModelIsEdit ? 'none':'block'">{{row.ZavNumber}}</Label> 
                      <div [ngClass]=row.IdScaner.toString() id="{{row.IdScaner}}" [style.display]="!row.ModelIsEdit ? 'none':'block'">
                      </div>
                  </td>
            </ng-container>
        
            <ng-container matColumnDef="ServiceNumber">
                <th mat-header-cell *matHeaderCellDef mat-sort-header>Сервисный номер</th>
                  <td [style.background]="row.Statusing?.Color" mat-cell *matCellDef="let row" [matTooltip]="row.ServiceNumber">
                    <Label [style.display]="row.ModelIsEdit ? 'none':'inline'">{{row.ServiceNumber}}</Label> 
                      <div [ngClass]=row.IdScaner.toString() id="{{row.IdScaner}}" [style.display]="!row.ModelIsEdit ? 'none':'block'">
                      </div>
                    </td>
            </ng-container>
        
            <ng-container matColumnDef="InventarNumber">
                <th mat-header-cell *matHeaderCellDef mat-sort-header>Инвентарный номер</th>
                  <td [style.background]="row.Statusing?.Color" mat-cell *matCellDef="let row" [matTooltip]="row.InventarNumber">
                    <Label [style.display]="row.ModelIsEdit ? 'none':'inline'">{{row.InventarNumber}}</Label> 
                      <div [ngClass]=row.IdScaner.toString() id="{{row.IdScaner}}" [style.display]="!row.ModelIsEdit ? 'none':'block'">
                      </div>
                  </td>
            </ng-container>
        
        
            <ng-container matColumnDef="IpAdress">
                <th mat-header-cell *matHeaderCellDef mat-sort-header>IP адрес</th>
                  <td [style.background]="row.Statusing?.Color" mat-cell *matCellDef="let row" [matTooltip]="row.IpAdress">
                    <Label [style.display]="row.ModelIsEdit ? 'none':'inline'">{{row.IpAdress}}</Label>
                      <div [ngClass]=row.IdScaner.toString() id="{{row.IdScaner}}" [style.display]="!row.ModelIsEdit ? 'none':'block'">
                      </div>
                  </td>
            </ng-container>

            <ng-container matColumnDef="Coment">
                <th mat-header-cell *matHeaderCellDef mat-sort-header>Коментарий</th>
                  <td [style.background]="row.Statusing?.Color" mat-cell *matCellDef="let row"  [matTooltip]="row.Coment">
                    <Label [style.display]="row.ModelIsEdit ? 'none':'inline'">{{row.Coment}}</Label>
                      <div [ngClass]=row.IdScaner.toString() id="{{row.IdScaner}}" [style.display]="!row.ModelIsEdit ? 'none':'block'">
                      </div>
                  </td>
            </ng-container>

                 <ng-container matColumnDef="Kabinet.NumberKabinet">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header>Кабинет</th>
                          <td [style.background]="row.Statusing?.Color" mat-cell *matCellDef="let row" [matTooltip]="row.Kabinet?.NumberKabinet">
                            <Label [style.display]="row.ModelIsEdit ? 'none':'inline'">{{row.Kabinet?.NumberKabinet}}</Label>
                              <div [ngClass]=row.IdScaner.toString() id="{{row.IdScaner}}" [style.display]="!row.ModelIsEdit ? 'none':'block'">
                              </div>
                          </td>
                    </ng-container> 

                    <ng-container matColumnDef="Statusing.Name">
                            <th mat-header-cell *matHeaderCellDef mat-sort-header>Статус</th>
                              <td [style.background]="row.Statusing?.Color" mat-cell *matCellDef="let row" [matTooltip]="row.Statusing?.Name">
                                <Label [style.display]="row.ModelIsEdit ? 'none':'inline'">{{row.Statusing?.Name}}</Label>
                                  <div [ngClass]=row.IdScaner.toString() id="{{row.IdScaner}}" [style.display]="!row.ModelIsEdit ? 'none':'block'">
                                  </div>
                              </td>
                        </ng-container> 

                     <ng-container matColumnDef="ActionsColumn">  
                        <th mat-header-cell *matHeaderCellDef>
                            <ng-template [ngxPermissionsExcept]="['Оператор','Просмотр']">
                              <button mat-icon-button color="primary" [disabled]="scaner.isAdd" focusable="false" (click)="scaner.add()">
                                <i class="material-icons">person_add</i>
                              </button>
                            </ng-template>
                        </th>
                        <td [style.background]="row.Statusing?.Color" mat-cell *matCellDef="let row">
                            <ng-template [ngxPermissionsExcept]="['Просмотр']">
                              <button mat-icon-button *ngIf="!row.ModelIsEdit" [disabled]="scaner.isEdit" color="accent" (click)="scaner.edit(row)">
                                <i class="material-icons">edit</i>
                              </button>
                            </ng-template>
                        <div *ngIf="row.ModelIsEdit" >
                                <button  mat-icon-button type="submit" [disabled]="scaner.modelvalid.getRowValidatorModel[1].invalid" color="primary" focusable="false" (click)="scaner.save()">
                                        <i class="material-icons">check</i>
                               </button>
                               <button mat-icon-button color="primary" focusable="false" (click)="scaner.cancel(row)">
                                    <i class="material-icons">cancel</i>
                                </button>
                        </div>
                     </td>
                     </ng-container>
                    <tr mat-header-row *matHeaderRowDef="scaner.displayedColumns; sticky: true"></tr>
                    <tr mat-row *matRowDef="let row; columns: scaner.displayedColumns;"></tr>
                </table>
              </div>
                <mat-paginator class="paginator" #scaners [pageSizeOptions]="[5, 10, 25, paginatorscaner.length]" showFirstLastButtons="true"></mat-paginator>
              </div>

              <div [style.display]="'none'" #TEMPLATESCANER>
                  <mat-form-field id="template" class="validation">
                      <mat-select (click)="scaner.calbackfiltersAll()" [placeholder]="scaner.model.User?.Name" [(ngModel)]="scaner.model.User" name="user">
                         <mat-select-filter class="filter" [placeholder]="scaner.model.User?.Name" [displayMember]="'Name'" [array]="scaner.user" (filteredReturn)="scaner.filteredUser =$event">
                          </mat-select-filter>
                            <mat-option [value]='null'>None</mat-option>
                            <mat-option *ngFor="let user of scaner.filteredUser" [value]="user">
                              {{user.Name}}
                            </mat-option>
                      </mat-select>
                  </mat-form-field>
                  <mat-form-field id="template" class="validation">
                      <mat-select (click)="scaner.calbackfiltersAll()"  [placeholder]="scaner.model.Supply?.DatePostavki" [(ngModel)]="scaner.model.Supply" name="supply">
                         <mat-select-filter class="filter" [placeholder]="scaner.model.Supply?.DatePostavki" [displayMember]="'DatePostavki'" [array]="scaner.supples" (filteredReturn)="scaner.filteredSupples =$event">
                          </mat-select-filter>
                            <mat-option [value]='null'>None</mat-option>
                            <mat-option *ngFor="let supply of scaner.filteredSupples" [value]="supply">
                               {{datetemplate(supply.DatePostavki)}}
                            </mat-option>
                      </mat-select>
                  </mat-form-field>
                  <mat-form-field id="template" class="validation">
                      <mat-select (click)="scaner.calbackfiltersAll()" [formControl]="scaner.modelvalid?.getRowValidatorModel[1].get('Proizvoditel')" [placeholder]="scaner.model.FullProizvoditel?.NameProizvoditel" [(ngModel)]="scaner.model.FullProizvoditel" name="proizvoditel">
                         <mat-select-filter class="filter" [placeholder]="scaner.model.FullProizvoditel?.NameProizvoditel" [displayMember]="'NameProizvoditel'" [array]="scaner.proizvoditel" (filteredReturn)="scaner.filteredProizvoditel =$event">
                          </mat-select-filter>
                            <mat-option [value]='null'>None</mat-option>
                            <mat-option *ngFor="let proizvoditel of scaner.filteredProizvoditel" [value]="proizvoditel">
                              {{proizvoditel.NameProizvoditel}}
                            </mat-option>
                      </mat-select>
                  </mat-form-field>
                  <mat-form-field id="template" class="validation">
                      <mat-select (click)="scaner.calbackfiltersAll()" [formControl]="scaner.modelvalid?.getRowValidatorModel[1].get('Model')" [placeholder]="scaner.model.FullModel?.NameModel" [(ngModel)]="scaner.model.FullModel" name="models">
                         <mat-select-filter class="filter" [placeholder]="scaner.model.FullModel?.NameModel" [displayMember]="'NameModel'" [array]="scaner.models" (filteredReturn)="scaner.filteredModels =$event">
                          </mat-select-filter>
                            <mat-option [value]='null'>None</mat-option>
                            <mat-option *ngFor="let models of scaner.filteredModels" [value]="models">
                              {{models.NameModel}}
                            </mat-option>
                      </mat-select>
                  </mat-form-field>
                  <mat-form-field id="template" class="validation">
                      <input matInput [formControl]="scaner.modelvalid?.getRowValidatorModel[1].get('ZavNum')" placeholder="Заводской номер" [ngModel]="scaner.model?.ZavNumber" (ngModelChange)="scaner.model.ZavNumber = $event"/>
                  </mat-form-field>
                  <mat-form-field id="template" class="validation">
                      <input matInput  placeholder="Сервисный номер" [ngModel]="scaner.model?.ServiceNumber" (ngModelChange)="scaner.model.ServiceNumber = $event"/>
                  </mat-form-field> 
                  <mat-form-field id="template" class="validation">
                      <input matInput  [formControl]="scaner.modelvalid?.getRowValidatorModel[1].get('InventarNum')" placeholder="Инвентарный номер" [ngModel]="scaner.model?.InventarNumber" (ngModelChange)="scaner.model.InventarNumber = $event"/>
                  </mat-form-field>
                  <mat-form-field id="template" class="validation">
                      <input matInput placeholder="IP принтера" [ngModel]="scaner.model?.IpAdress" (ngModelChange)="scaner.model.IpAdress = $event"/>
                  </mat-form-field>
                  <mat-form-field id="template" class="validation">
                      <input matInput placeholder="Коментарий" [ngModel]="scaner.model?.Coment" (ngModelChange)="scaner.model.Coment = $event"/>
                  </mat-form-field>
                  <mat-form-field id="template" class="validation">
                      <mat-select (click)="scaner.calbackfiltersAll()" [placeholder]="scaner.model.Kabinet?.NumberKabinet" [(ngModel)]="scaner.model.Kabinet" name="kabinet">
                         <mat-select-filter class="filter" [placeholder]="scaner.model.Kabinet?.NumberKabinet"  [displayMember]="'NumberKabinet'" [array]="scaner.kabinet" (filteredReturn)="scaner.filteredKabinet =$event">
                          </mat-select-filter>
                            <mat-option [value]='null'>None</mat-option>
                            <mat-option *ngFor="let kabinet of scaner.filteredKabinet" [value]="kabinet">
                              {{kabinet.NumberKabinet}}
                            </mat-option>
                      </mat-select>
                  </mat-form-field>
                  <mat-form-field id="template" class="validation">
                      <mat-select (click)="scaner.calbackfiltersAll()" [placeholder]="scaner.model.Statusing?.Name" [(ngModel)]="scaner.model.Statusing" name="status">
                         <mat-select-filter class="filter" [placeholder]="scaner.model.Statusing?.Name" [array]="scaner.statusing" (filteredReturn)="scaner.filteredStatusing =$event">
                          </mat-select-filter>
                            <mat-option [value]='null'>None</mat-option>
                            <mat-option *ngFor="let status of scaner.filteredStatusing" [value]="status">
                              {{status.Name}}
                            </mat-option>
                      </mat-select>
                  </mat-form-field>
              </div>

        </mat-tab>
        <mat-tab label="МФУ">

          <div class="mat-elevation-z8">
            <form class="search">
              <mat-form-field class="search_blok">
                    <span matPrefix><i class="material-icons">youtube_searched_for</i></span>
                    <input matInput (keyup)="mfu.filterstable($event.target.value)" placeholder="Поиск данных">
              </mat-form-field>
              <button class="actual" mat-button (click)="excel.ExportTOExcel(tablemfus)">Выгрузить МФУ</button>
            </form>
      <div class="tables" #TABLEMFUS >
        <table mat-table [dataSource]="mfu.dataSource" matSort>
            <ng-container matColumnDef="IdModel">
                <th mat-header-cell *matHeaderCellDef mat-sort-header>Id</th>
                  <td [style.background]="row.Statusing?.Color" mat-cell *matCellDef="let row" [matTooltip]="row.IdMfu">
                         {{row.IdMfu}}
                  </td>
            </ng-container>

            <ng-container matColumnDef="User.Name">
                <th mat-header-cell *matHeaderCellDef mat-sort-header>Пользователь</th>
                  <td [style.background]="row.Statusing?.Color" mat-cell *matCellDef="let row" [matTooltip]="row.User?.Name">
                    <Label [style.display]="row.ModelIsEdit ? 'none':'inline'">{{row.User?.Name}}</Label>
                            <div [ngClass]=row.IdMfu.toString() id="{{row.IdMfu}}" [style.display]="!row.ModelIsEdit ? 'none':'block'">
                            </div>
                  </td>
            </ng-container>

            <ng-container matColumnDef="Supply.DatePostavki">
                <th mat-header-cell *matHeaderCellDef mat-sort-header>Фактическая дата поставки</th>
                  <td [style.background]="row.Statusing?.Color" mat-cell *matCellDef="let row" [matTooltip]="dp.transform(row.Supply?.DatePostavki,'dd-MM-yyyy')">
                    <Label [style.display]="row.ModelIsEdit ? 'none':'inline'">{{dp.transform(row.Supply?.DatePostavki,'dd-MM-yyyy')}}</Label>
                            <div [ngClass]=row.IdMfu.toString() id="{{row.IdMfu}}" [style.display]="!row.ModelIsEdit ? 'none':'block'">
                            </div>
                  </td>
            </ng-container>

            <ng-container matColumnDef="FullProizvoditel.NameProizvoditel">
              <th mat-header-cell *matHeaderCellDef mat-sort-header>Производитель</th>
                <td [style.background]="row.Statusing?.Color" mat-cell *matCellDef="let row" [matTooltip]="row.FullProizvoditel?.NameProizvoditel">
                  <Label [style.display]="row.ModelIsEdit ? 'none':'inline'">{{row.FullProizvoditel?.NameProizvoditel}}</Label>
                    <div [ngClass]=row.IdMfu.toString() id="{{row.IdMfu}}" [style.display]="!row.ModelIsEdit ? 'none':'block'">
                    </div>
                </td>
          </ng-container>
      
          <ng-container matColumnDef="FullModel.NameModel">
                  <th mat-header-cell *matHeaderCellDef mat-sort-header>Модель</th>
                    <td [style.background]="row.Statusing?.Color" mat-cell *matCellDef="let row" [matTooltip]="row.FullModel?.NameModel">
                      <Label [style.display]="row.ModelIsEdit ? 'none':'inline'">{{row.FullModel?.NameModel}}</Label>
                        <div [ngClass]=row.IdMfu.toString() id="{{row.IdMfu}}" [style.display]="!row.ModelIsEdit ? 'none':'block'">
                        </div>
                    </td>
              </ng-container>


             <ng-container matColumnDef="ZavNumber">
                <th mat-header-cell *matHeaderCellDef mat-sort-header>Зав.Номер</th>
                  <td [style.background]="row.Statusing?.Color" mat-cell *matCellDef="let row" [matTooltip]="row.ZavNumber">
                    <Label [style.display]="row.ModelIsEdit ? 'none':'block'">{{row.ZavNumber}}</Label> 
                      <div [ngClass]=row.IdMfu.toString() id="{{row.IdMfu}}" [style.display]="!row.ModelIsEdit ? 'none':'block'">
                      </div>
                  </td>
            </ng-container>
        
            <ng-container matColumnDef="ServiceNumber">
                <th mat-header-cell *matHeaderCellDef mat-sort-header>Сервисный номер</th>
                  <td [style.background]="row.Statusing?.Color" mat-cell *matCellDef="let row" [matTooltip]="row.ServiceNumber">
                    <Label [style.display]="row.ModelIsEdit ? 'none':'inline'">{{row.ServiceNumber}}</Label> 
                      <div [ngClass]=row.IdMfu.toString() id="{{row.IdMfu}}" [style.display]="!row.ModelIsEdit ? 'none':'block'">
                      </div>
                    </td>
            </ng-container>
        
            <ng-container matColumnDef="InventarNumber">
                <th mat-header-cell *matHeaderCellDef mat-sort-header>Инвентарный номер</th>
                  <td [style.background]="row.Statusing?.Color" mat-cell *matCellDef="let row" [matTooltip]="row.InventarNumber">
                    <Label [style.display]="row.ModelIsEdit ? 'none':'inline'">{{row.InventarNumber}}</Label> 
                      <div [ngClass]=row.IdMfu.toString() id="{{row.IdMfu}}" [style.display]="!row.ModelIsEdit ? 'none':'block'">
                      </div>
                  </td>
            </ng-container>
        
            <ng-container matColumnDef="IpAdress">
                <th mat-header-cell *matHeaderCellDef mat-sort-header>IP адрес</th>
                  <td [style.background]="row.Statusing?.Color" mat-cell *matCellDef="let row" [matTooltip]="row.IpAdress">
                    <Label [style.display]="row.ModelIsEdit ? 'none':'inline'">{{row.IpAdress}}</Label>
                      <div [ngClass]=row.IdMfu.toString() id="{{row.IdMfu}}" [style.display]="!row.ModelIsEdit ? 'none':'block'">
                      </div>
                  </td>
            </ng-container>
            <ng-container matColumnDef="CopySave.SerNum">
                <th mat-header-cell *matHeaderCellDef mat-sort-header>CopySave</th>
                  <td [style.background]="row.Statusing?.Color" mat-cell *matCellDef="let row" [matTooltip]="row.CopySave?.NameCopySave">
                    <Label [style.display]="row.ModelIsEdit ? 'none':'inline'">{{row.CopySave?.NameCopySave}} - {{row.CopySave?.SerNum}}</Label>
                      <div [ngClass]=row.IdMfu.toString() id="{{row.IdMfu}}" [style.display]="!row.ModelIsEdit ? 'none':'block'">
                      </div>
                  </td>
            </ng-container> 

            <ng-container matColumnDef="Coment">
                <th mat-header-cell *matHeaderCellDef mat-sort-header>Коментарий</th>
                  <td [style.background]="row.Statusing?.Color"  mat-cell *matCellDef="let row" [matTooltip]="row.Coment">
                    <Label [style.display]="row.ModelIsEdit ? 'none':'inline'">{{row.Coment}}</Label>
                      <div [ngClass]=row.IdMfu.toString() id="{{row.IdMfu}}" [style.display]="!row.ModelIsEdit ? 'none':'block'">
                      </div>
                  </td>
            </ng-container>

                 <ng-container matColumnDef="Kabinet.NumberKabinet">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header>Кабинет</th>
                          <td [style.background]="row.Statusing?.Color" mat-cell *matCellDef="let row" [matTooltip]="row.Kabinet?.NumberKabinet">
                            <Label [style.display]="row.ModelIsEdit ? 'none':'inline'">{{row.Kabinet?.NumberKabinet}}</Label>
                              <div [ngClass]=row.IdMfu.toString() id="{{row.IdMfu}}" [style.display]="!row.ModelIsEdit ? 'none':'block'">
                              </div>
                          </td>
                    </ng-container> 

                    <ng-container matColumnDef="Statusing.Name">
                            <th mat-header-cell *matHeaderCellDef mat-sort-header>Статус</th>
                              <td [style.background]="row.Statusing?.Color" mat-cell *matCellDef="let row" [matTooltip]="row.Statusing?.Name">
                                <Label [style.display]="row.ModelIsEdit ? 'none':'inline'">{{row.Statusing?.Name}}</Label>
                                  <div [ngClass]=row.IdMfu.toString() id="{{row.IdMfu}}" [style.display]="!row.ModelIsEdit ? 'none':'block'">
                                  </div>
                              </td>
                        </ng-container>

                     <ng-container matColumnDef="ActionsColumn">  
                        <th mat-header-cell *matHeaderCellDef>
                            <ng-template [ngxPermissionsExcept]="['Оператор','Просмотр']">
                              <button mat-icon-button color="primary" [disabled]="mfu.isAdd" focusable="false" (click)="mfu.add()">
                                <i class="material-icons">person_add</i>
                              </button>
                            </ng-template>
                        </th>
                        <td [style.background]="row.Statusing?.Color" mat-cell *matCellDef="let row">
                            <ng-template [ngxPermissionsExcept]="['Просмотр']">
                              <button mat-icon-button *ngIf="!row.ModelIsEdit" [disabled]="mfu.isEdit" color="accent" (click)="mfu.edit(row)">
                                <i class="material-icons">edit</i>
                              </button>
                            </ng-template>
                        <div *ngIf="row.ModelIsEdit" >
                                <button  mat-icon-button type="submit" [disabled]="mfu.modelvalid.getRowValidatorModel[1].invalid" color="primary" focusable="false" (click)="mfu.save()">
                                        <i class="material-icons">check</i>
                               </button>
                               <button mat-icon-button color="primary" focusable="false" (click)="mfu.cancel(row)">
                                    <i class="material-icons">cancel</i>
                                </button>
                        </div>
                     </td>
                     </ng-container>
                    <tr mat-header-row *matHeaderRowDef="mfu.displayedColumns; sticky: true"></tr>
                    <tr mat-row *matRowDef="let row; columns: mfu.displayedColumns;"></tr>
                </table>
            </div>
                <mat-paginator class="paginator" #mfus [pageSizeOptions]="[5, 10, 25, paginatormfu.length]" showFirstLastButtons="true"></mat-paginator>  
            </div>

            <div [style.display]="'none'" #TEMPLATEMFU>
                <mat-form-field id="template" class="validation">
                    <mat-select (click)="mfu.calbackfiltersAll()" [placeholder]="mfu.model.User?.Name" [(ngModel)]="mfu.model.User" name="user">
                       <mat-select-filter class="filter" [placeholder]="mfu.model.User?.Name" [displayMember]="'Name'" [array]="mfu.user" (filteredReturn)="mfu.filteredUser =$event">
                        </mat-select-filter>
                          <mat-option [value]='null'>None</mat-option>
                          <mat-option *ngFor="let user of mfu.filteredUser" [value]="user">
                            {{user.Name}}
                          </mat-option>
                    </mat-select>
                </mat-form-field>
                <mat-form-field id="template" class="validation">
                    <mat-select (click)="mfu.calbackfiltersAll()"  [placeholder]="mfu.model.Supply?.DatePostavki" [(ngModel)]="mfu.model.Supply" name="supply">
                       <mat-select-filter class="filter" [placeholder]="mfu.model.Supply?.DatePostavki" [displayMember]="'DatePostavki'" [array]="mfu.supples" (filteredReturn)="mfu.filteredSupples =$event">
                        </mat-select-filter>
                          <mat-option [value]='null'>None</mat-option>
                          <mat-option *ngFor="let supply of mfu.filteredSupples" [value]="supply">
                            {{datetemplate(supply.DatePostavki)}}
                          </mat-option>
                    </mat-select>
                </mat-form-field>
                <mat-form-field id="template" class="validation">
                    <mat-select (click)="mfu.calbackfiltersAll()" [formControl]="mfu.modelvalid?.getRowValidatorModel[1].get('Proizvoditel')" [placeholder]="mfu.model.FullProizvoditel?.NameProizvoditel" [(ngModel)]="mfu.model.FullProizvoditel" name="proizvoditel">
                       <mat-select-filter class="filter" [placeholder]="mfu.model.FullProizvoditel?.NameProizvoditel" [displayMember]="'NameProizvoditel'" [array]="mfu.proizvoditel" (filteredReturn)="mfu.filteredProizvoditel =$event">
                        </mat-select-filter>
                          <mat-option [value]='null'>None</mat-option>
                          <mat-option *ngFor="let proizvoditel of mfu.filteredProizvoditel" [value]="proizvoditel">
                            {{proizvoditel.NameProizvoditel}}
                          </mat-option>
                    </mat-select>
                </mat-form-field>
                <mat-form-field id="template" class="validation">
                    <mat-select (click)="mfu.calbackfiltersAll()" [formControl]="mfu.modelvalid?.getRowValidatorModel[1].get('Model')" [placeholder]="mfu.model.FullModel?.NameModel" [(ngModel)]="mfu.model.FullModel" name="models">
                       <mat-select-filter class="filter" [placeholder]="mfu.model.FullModel?.NameModel" [displayMember]="'NameModel'" [array]="mfu.models" (filteredReturn)="mfu.filteredModels =$event">
                        </mat-select-filter>
                          <mat-option [value]='null'>None</mat-option>
                          <mat-option *ngFor="let models of mfu.filteredModels" [value]="models">
                            {{models.NameModel}}
                          </mat-option>
                    </mat-select>
                </mat-form-field>
                <mat-form-field id="template" class="validation">
                    <input matInput [formControl]="mfu.modelvalid?.getRowValidatorModel[1].get('ZavNum')" placeholder="Заводской номер" [ngModel]="mfu.model?.ZavNumber" (ngModelChange)="mfu.model.ZavNumber = $event"/>
                </mat-form-field> 
                <mat-form-field id="template" class="validation">
                    <input matInput placeholder="Сервисный номер" [ngModel]="mfu.model?.ServiceNumber" (ngModelChange)="mfu.model.ServiceNumber = $event"/>
                </mat-form-field>
                <mat-form-field id="template" class="validation">
                    <input matInput  [formControl]="mfu.modelvalid?.getRowValidatorModel[1].get('InventarNum')" placeholder="Инвентарный номер" [ngModel]="mfu.model?.InventarNumber" (ngModelChange)="mfu.model.InventarNumber = $event"/>
                </mat-form-field>
                <mat-form-field id="template" class="validation">
                    <input matInput placeholder="IP принтера" [ngModel]="mfu.model?.IpAdress" (ngModelChange)="mfu.model.IpAdress = $event"/>
                </mat-form-field>
                <mat-form-field id="template" class="validation">
                    <mat-select (click)="mfu.calbackfiltersAll()" [placeholder]="mfu.model.CopySave?.NameCopySave" [(ngModel)]="mfu.model.CopySave" name="copysave">
                     <mat-select-filter class="filter" [placeholder]="mfu.model.CopySave?.NameCopySave"  [displayMember]="'NameCopySave'" [array]="mfu.copySave" (filteredReturn)="mfu.filteredCopySave =$event">
                      </mat-select-filter>
                        <mat-option [value]='null'>None</mat-option>
                        <mat-option *ngFor="let copysave of mfu.filteredCopySave" [value]="copysave">
                          {{copysave.NameCopySave}} - {{copysave.SerNum}}
                        </mat-option> 
                  </mat-select> 
              </mat-form-field>
              <mat-form-field id="template" class="validation">
                  <input matInput placeholder="Коментарий" [ngModel]="mfu.model?.Coment" (ngModelChange)="mfu.model.Coment = $event"/>
              </mat-form-field>
              <mat-form-field id="template" class="validation">
                  <mat-select (click)="mfu.calbackfiltersAll()" [placeholder]="mfu.model.Kabinet?.NumberKabinet" [(ngModel)]="mfu.model.Kabinet" name="kabinet">
                     <mat-select-filter class="filter" [placeholder]="mfu.model.Kabinet?.NumberKabinet"  [displayMember]="'NumberKabinet'" [array]="mfu.kabinet" (filteredReturn)="mfu.filteredKabinet =$event">
                      </mat-select-filter>
                        <mat-option [value]='null'>None</mat-option>
                        <mat-option *ngFor="let kabinet of mfu.filteredKabinet" [value]="kabinet">
                          {{kabinet.NumberKabinet}}
                        </mat-option>
                  </mat-select>
              </mat-form-field>
              <mat-form-field id="template" class="validation">
                  <mat-select (click)="mfu.calbackfiltersAll()" [placeholder]="mfu.model.Statusing?.Name" [(ngModel)]="mfu.model.Statusing" name="status">
                     <mat-select-filter class="filter" [placeholder]="mfu.model.Statusing?.Name" [array]="mfu.statusing" (filteredReturn)="mfu.filteredStatusing =$event">
                      </mat-select-filter>
                        <mat-option [value]='null'>None</mat-option>
                        <mat-option *ngFor="let status of mfu.filteredStatusing" [value]="status">
                          {{status.Name}}
                        </mat-option>
                  </mat-select>
              </mat-form-field>
            </div>

        </mat-tab>
        <mat-tab label="Системные блоки">

            <div class="mat-elevation-z8">
                <form class="search">
                  <mat-form-field class="search_blok">
                        <span matPrefix><i class="material-icons">youtube_searched_for</i></span>
                        <input matInput (keyup)="sysblok.filterstable($event.target.value)" placeholder="Поиск данных">
                  </mat-form-field>
                  <button class="actual" mat-button (click)="excel.ExportTOExcel(tablesysbloks)">Выгрузить системные блоки</button>
                </form>
         <div class="tables" #TABLESYSBLOKS >
            <table mat-table [dataSource]="sysblok.dataSource" matSort>
                <ng-container matColumnDef="IdModel">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header>Id</th>
                      <td [style.background]="row.Statusing?.Color" mat-cell *matCellDef="let row" [matTooltip]="row.IdSysBlock">
                             {{row.IdSysBlock}}
                      </td>
                </ng-container>
    
                <ng-container matColumnDef="User.Name">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header>Пользователь</th>
                      <td [style.background]="row.Statusing?.Color" mat-cell *matCellDef="let row" [matTooltip]="row.User?.Name">
                        <Label [style.display]="row.ModelIsEdit ? 'none':'inline'">{{row.User?.Name}}</Label>
                          <div [ngClass]=row.IdSysBlock.toString() id="{{row.IdSysBlock}}" [style.display]="!row.ModelIsEdit ? 'none':'block'">
                          </div>
                      </td>
                </ng-container>

                <ng-container matColumnDef="Supply.DatePostavki">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header>Фактическая дата поставки</th>
                      <td [style.background]="row.Statusing?.Color" mat-cell *matCellDef="let row" [matTooltip]="dp.transform(row.Supply?.DatePostavki,'dd-MM-yyyy')">
                        <Label [style.display]="row.ModelIsEdit ? 'none':'inline'">{{dp.transform(row.Supply?.DatePostavki,'dd-MM-yyyy')}}</Label>
                          <div [ngClass]=row.IdSysBlock.toString() id="{{row.IdSysBlock}}" [style.display]="!row.ModelIsEdit ? 'none':'block'">
                          </div>
                      </td>
                </ng-container>

                <ng-container matColumnDef="NameSysBlock.NameComputer">
                  <th mat-header-cell *matHeaderCellDef mat-sort-header>Модель</th>
                    <td [style.background]="row.Statusing?.Color" mat-cell *matCellDef="let row"  [matTooltip]="row.NameSysBlock?.NameComputer">
                      <Label [style.display]="row.ModelIsEdit ? 'none':'inline'">{{row.NameSysBlock?.NameComputer}}</Label>
                        <div [ngClass]=row.IdSysBlock.toString() id="{{row.IdSysBlock}}" [style.display]="!row.ModelIsEdit ? 'none':'block'">
                        </div>
                    </td>
              </ng-container>
          
                 <ng-container matColumnDef="ServiceNum">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header>Сервисный номер</th>
                      <td [style.background]="row.Statusing?.Color" mat-cell *matCellDef="let row" [matTooltip]="row.ServiceNum">
                        <Label [style.display]="row.ModelIsEdit ? 'none':'block'">{{row.ServiceNum}}</Label> 
                          <div [ngClass]=row.IdSysBlock.toString() id="{{row.IdSysBlock}}" [style.display]="!row.ModelIsEdit ? 'none':'block'">
                          </div>
                      </td>
                </ng-container>
            
                <ng-container matColumnDef="SerNum">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header>Сирийный номер</th>
                      <td [style.background]="row.Statusing?.Color" mat-cell *matCellDef="let row"  [matTooltip]="row.SerNum">
                        <Label [style.display]="row.ModelIsEdit ? 'none':'inline'">{{row.SerNum}}</Label> 
                          <div [ngClass]=row.IdSysBlock.toString() id="{{row.IdSysBlock}}" [style.display]="!row.ModelIsEdit ? 'none':'block'">
                          </div>
                        </td>
                </ng-container>
            
                <ng-container matColumnDef="InventarNumSysBlok">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header>Инвентарный номер</th>
                      <td [style.background]="row.Statusing?.Color" mat-cell *matCellDef="let row" [matTooltip]="row.InventarNumSysBlok">
                        <Label [style.display]="row.ModelIsEdit ? 'none':'inline'">{{row.InventarNumSysBlok}}</Label> 
                          <div [ngClass]=row.IdSysBlock.toString() id="{{row.IdSysBlock}}" [style.display]="!row.ModelIsEdit ? 'none':'block'">
                          </div>
                      </td>
                </ng-container>
            
                <ng-container matColumnDef="NameComputer">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header>Имя компьютера</th>
                      <td [style.background]="row.Statusing?.Color" mat-cell *matCellDef="let row" [matTooltip]="row.NameComputer">
                        <Label [style.display]="row.ModelIsEdit ? 'none':'inline'">{{row.NameComputer}}</Label> 
                          <div [ngClass]=row.IdSysBlock.toString() id="{{row.IdSysBlock}}" [style.display]="!row.ModelIsEdit ? 'none':'block'">
                          </div>
                      </td>
                </ng-container>
            
                <ng-container matColumnDef="IpAdress">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header>IP адрес</th>
                      <td [style.background]="row.Statusing?.Color" mat-cell *matCellDef="let row" [matTooltip]="row.IpAdress">
                        <Label [style.display]="row.ModelIsEdit ? 'none':'inline'">{{row.IpAdress}}</Label>
                          <div [ngClass]=row.IdSysBlock.toString() id="{{row.IdSysBlock}}" [style.display]="!row.ModelIsEdit ? 'none':'block'">
                          </div>
                      </td>
                </ng-container>

                <ng-container matColumnDef="Kabinet.NumberKabinet">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header>Кабинет</th>
                      <td [style.background]="row.Statusing?.Color" mat-cell *matCellDef="let row" [matTooltip]="row.Kabinet?.NumberKabinet">
                        <Label [style.display]="row.ModelIsEdit ? 'none':'inline'">{{row.Kabinet?.NumberKabinet}}</Label>
                          <div [ngClass]=row.IdSysBlock.toString() id="{{row.IdSysBlock}}" [style.display]="!row.ModelIsEdit ? 'none':'block'">
                          </div>
                      </td>
                </ng-container> 
    
                <ng-container matColumnDef="Coment">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header>Коментарий</th>
                      <td [style.background]="row.Statusing?.Color" mat-cell *matCellDef="let row"  [matTooltip]="row.Coment">
                        <Label [style.display]="row.ModelIsEdit ? 'none':'inline'">{{row.Coment}}</Label>
                          <div [ngClass]=row.IdSysBlock.toString() id="{{row.IdSysBlock}}" [style.display]="!row.ModelIsEdit ? 'none':'block'">
                          </div>
                      </td>
                </ng-container>
    
                <ng-container matColumnDef="Statusing.Name">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header>Статус</th>
                      <td [style.background]="row.Statusing?.Color" mat-cell *matCellDef="let row" [matTooltip]="row.Statusing?.Name">
                        <Label [style.display]="row.ModelIsEdit ? 'none':'inline'">{{row.Statusing?.Name}}</Label>
                          <div [ngClass]=row.IdSysBlock.toString() id="{{row.IdSysBlock}}" [style.display]="!row.ModelIsEdit ? 'none':'block'">
                          </div>
                      </td>
                </ng-container> 
    
                         <ng-container matColumnDef="ActionsColumn">  
                            <th mat-header-cell *matHeaderCellDef>
                                <ng-template [ngxPermissionsExcept]="['Оператор','Просмотр']">
                                  <button mat-icon-button color="primary" [disabled]="sysblok.isAdd" focusable="false" (click)="sysblok.add()">
                                    <i class="material-icons">person_add</i>
                                  </button>
                                </ng-template>
                            </th>
                            <td [style.background]="row.Statusing?.Color" mat-cell *matCellDef="let row">
                                <ng-template [ngxPermissionsExcept]="['Просмотр']">
                                  <button mat-icon-button *ngIf="!row.ModelIsEdit" [disabled]="sysblok.isEdit" color="accent" (click)="sysblok.edit(row)">
                                   <i class="material-icons">edit</i>
                                  </button>
                                </ng-template>
                            <div *ngIf="row.ModelIsEdit" >
                                    <button  mat-icon-button type="submit" [disabled]="sysblok.modelvalid.getRowValidatorModel[2].invalid" color="primary" focusable="false" (click)="sysblok.save()">
                                            <i class="material-icons">check</i>
                                   </button>
                                   <button mat-icon-button color="primary" focusable="false" (click)="sysblok.cancel(row)">
                                        <i class="material-icons">cancel</i>
                                    </button>
                            </div>
                         </td>
                         </ng-container>
                        <tr mat-header-row *matHeaderRowDef="sysblok.displayedColumns; sticky: true"></tr>
                        <tr mat-row *matRowDef="let row; columns: sysblok.displayedColumns;"></tr>
                    </table>
               </div>
                    <mat-paginator  class="paginator" #sysbloks [pageSizeOptions]="[5, 10, 25, paginatorsysblok.length]" showFirstLastButtons="true"></mat-paginator>
                  </div>
                  <div [style.display]="'none'" #TEMPLATESYSBLOK>
                      <mat-form-field id="template" class="validation">
                          <mat-select (click)="sysblok.calbackfiltersAll()" [placeholder]="sysblok.model.User?.Name" [(ngModel)]="sysblok.model.User" name="user">
                             <mat-select-filter class="filter" [placeholder]="sysblok.model.User?.Name" [displayMember]="'Name'" [array]="sysblok.user" (filteredReturn)="sysblok.filteredUser =$event">
                              </mat-select-filter>
                                <mat-option [value]='null'>None</mat-option>
                                <mat-option *ngFor="let user of sysblok.filteredUser" [value]="user">
                                  {{user.Name}}
                                </mat-option>
                          </mat-select>
                      </mat-form-field>
                      <mat-form-field id="template" class="validation">
                          <mat-select (click)="sysblok.calbackfiltersAll()"  [placeholder]="sysblok.model.Supply?.DatePostavki" [(ngModel)]="sysblok.model.Supply" name="supply">
                             <mat-select-filter class="filter" [placeholder]="sysblok.model.Supply?.DatePostavki" [displayMember]="'DatePostavki'" [array]="sysblok.supples" (filteredReturn)="sysblok.filteredSupples =$event">
                              </mat-select-filter>
                                <mat-option [value]='null'>None</mat-option>
                                <mat-option *ngFor="let supply of sysblok.filteredSupples" [value]="supply">
                                   {{datetemplate(supply.DatePostavki)}}
                                </mat-option>
                          </mat-select>
                      </mat-form-field>
                      <mat-form-field id="template" class="validation">
                          <mat-select (click)="sysblok.calbackfiltersAll()" [formControl]="sysblok.modelvalid?.getRowValidatorModel[2].get('Model')" [placeholder]="sysblok.model.NameSysBlock?.NameComputer" [(ngModel)]="sysblok.model.NameSysBlock" name="model">
                             <mat-select-filter class="filter" [placeholder]="sysblok.model.NameSysBlock?.NameComputer" [displayMember]="'NameComputer'" [array]="sysblok.models" (filteredReturn)="sysblok.filteredModels =$event">
                              </mat-select-filter>
                                <mat-option [value]='null'>None</mat-option>
                                <mat-option *ngFor="let model of sysblok.filteredModels" [value]="model">
                                  {{model.NameComputer}}
                                </mat-option>
                          </mat-select>
                      </mat-form-field>
                      <mat-form-field id="template" class="validation">
                          <input matInput placeholder="Сервисный номер" [ngModel]="sysblok.model?.ServiceNum" (ngModelChange)="sysblok.model.ServiceNum = $event"/>
                      </mat-form-field> 
                      <mat-form-field id="template" class="validation">
                          <input matInput  [formControl]="sysblok.modelvalid?.getRowValidatorModel[2].get('SerNum')" placeholder="Сирийный номер" [ngModel]="sysblok.model?.SerNum" (ngModelChange)="sysblok.model.SerNum = $event"/>
                      </mat-form-field>
                      <mat-form-field id="template" class="validation">
                          <input matInput  [formControl]="sysblok.modelvalid?.getRowValidatorModel[2].get('InventarNum')" placeholder="Инвентарный номер" [ngModel]="sysblok.model?.InventarNumSysBlok" (ngModelChange)="sysblok.model.InventarNumSysBlok = $event"/>
                      </mat-form-field>
                      <mat-form-field id="template" class="validation">
                          <input matInput  [formControl]="sysblok.modelvalid?.getRowValidatorModel[2].get('NameComputer')" placeholder="Имя компьютера" [ngModel]="sysblok.model?.NameComputer" (ngModelChange)="sysblok.model.NameComputer = $event"/>
                      </mat-form-field>
                      <mat-form-field id="template" class="validation">
                          <input matInput placeholder="IP компьютера" [ngModel]="sysblok.model?.IpAdress" (ngModelChange)="sysblok.model.IpAdress = $event"/>
                      </mat-form-field>
                      <mat-form-field id="template" class="validation">
                          <mat-select (click)="sysblok.calbackfiltersAll()" [placeholder]="sysblok.model.Kabinet?.NumberKabinet" [(ngModel)]="sysblok.model.Kabinet" name="kabinet">
                             <mat-select-filter class="filter" [placeholder]="sysblok.model.Kabinet?.NumberKabinet"  [displayMember]="'NumberKabinet'" [array]="sysblok.kabinet" (filteredReturn)="sysblok.filteredKabinet =$event">
                              </mat-select-filter>
                                <mat-option [value]='null'>None</mat-option>
                                <mat-option *ngFor="let kabinet of sysblok.filteredKabinet" [value]="kabinet">
                                  {{kabinet.NumberKabinet}}
                                </mat-option>
                          </mat-select>
                      </mat-form-field>
                      <mat-form-field id="template" class="validation">
                          <input matInput placeholder="Коментарий" [ngModel]="sysblok.model?.Coment" (ngModelChange)="sysblok.model.Coment = $event"/>
                      </mat-form-field>
                      <mat-form-field id="template" class="validation">
                          <mat-select (click)="sysblok.calbackfiltersAll()" [placeholder]="sysblok.model.Statusing?.Name" [(ngModel)]="sysblok.model.Statusing" name="status">
                             <mat-select-filter class="filter" [placeholder]="sysblok.model.Statusing?.Name" [array]="sysblok.statusing" (filteredReturn)="sysblok.filteredStatusing =$event">
                              </mat-select-filter>
                                <mat-option [value]='null'>None</mat-option>
                                <mat-option *ngFor="let status of sysblok.filteredStatusing" [value]="status">
                                  {{status.Name}}
                                </mat-option>
                          </mat-select>
                      </mat-form-field>
                  </div>
        </mat-tab>
        <mat-tab label="Мониторы">
          <div class="mat-elevation-z8">
            <form class="search">
              <mat-form-field class="search_blok">
                    <span matPrefix><i class="material-icons">youtube_searched_for</i></span>
                    <input matInput (keyup)="monitor.filterstable($event.target.value)" placeholder="Поиск данных">
              </mat-form-field>
              <button class="actual" mat-button (click)="excel.ExportTOExcel(tablemonitors)">Выгрузить мониторы</button>
            </form>
       <div class="tables" #TABLEMONITORS>
        <table mat-table [dataSource]="monitor.dataSource" matSort>

            <ng-container matColumnDef="IdModel">
                <th mat-header-cell *matHeaderCellDef mat-sort-header>Id</th>
                  <td [style.background]="row.Statusing?.Color" mat-cell *matCellDef="let row" [matTooltip]="row.IdMonitor">
                         {{row.IdMonitor}}
                  </td>
            </ng-container>

            <ng-container matColumnDef="User.Name">
                <th mat-header-cell *matHeaderCellDef mat-sort-header>Пользователь</th>
                  <td [style.background]="row.Statusing?.Color" mat-cell *matCellDef="let row" [matTooltip]="row.User?.Name">
                    <Label [style.display]="row.ModelIsEdit ? 'none':'inline'">{{row.User?.Name}}</Label>
                    <div [ngClass]=row.IdMonitor.toString() id="{{row.IdMonitor}}" [style.display]="!row.ModelIsEdit ? 'none':'block'">
                    </div>
                  </td>
            </ng-container>

            <ng-container matColumnDef="Supply.DatePostavki">
                <th mat-header-cell *matHeaderCellDef mat-sort-header>Фактическая дата поставки</th>
                  <td [style.background]="row.Statusing?.Color" mat-cell *matCellDef="let row" [matTooltip]="dp.transform(row.Supply?.DatePostavki,'dd-MM-yyyy')">
                    <Label [style.display]="row.ModelIsEdit ? 'none':'inline'">{{dp.transform(row.Supply?.DatePostavki,'dd-MM-yyyy')}}</Label>
                      <div [ngClass]=row.IdMonitor.toString() id="{{row.IdMonitor}}" [style.display]="!row.ModelIsEdit ? 'none':'block'">
                      </div>
                  </td>
            </ng-container>

            <ng-container matColumnDef="NameMonitor.Name">
              <th mat-header-cell *matHeaderCellDef mat-sort-header>Модель</th>
                <td [style.background]="row.Statusing?.Color" mat-cell *matCellDef="let row" [matTooltip]="row.NameMonitor?.Name">
                  <Label [style.display]="row.ModelIsEdit ? 'none':'inline'">{{row.NameMonitor?.Name}}</Label>
                    <div [ngClass]=row.IdMonitor.toString() id="{{row.IdMonitor}}" [style.display]="!row.ModelIsEdit ? 'none':'block'">
                    </div>
                </td>
          </ng-container>
            <ng-container matColumnDef="SerNum">
                <th mat-header-cell *matHeaderCellDef mat-sort-header>Сирийный номер</th>
                  <td [style.background]="row.Statusing?.Color" mat-cell *matCellDef="let row" [matTooltip]="row.SerNum">
                    <Label [style.display]="row.ModelIsEdit ? 'none':'inline'">{{row.SerNum}}</Label> 
                      <div [ngClass]=row.IdMonitor.toString() id="{{row.IdMonitor}}" [style.display]="!row.ModelIsEdit ? 'none':'block'">
                      </div>
                    </td>
            </ng-container>
        
            <ng-container matColumnDef="InventarNumMonitor">
                <th mat-header-cell *matHeaderCellDef mat-sort-header>Инвентарный номер</th>
                  <td [style.background]="row.Statusing?.Color" mat-cell *matCellDef="let row" [matTooltip]="row.InventarNumMonitor">
                    <Label [style.display]="row.ModelIsEdit ? 'none':'inline'">{{row.InventarNumMonitor}}</Label> 
                      <div [ngClass]=row.IdMonitor.toString() id="{{row.IdMonitor}}" [style.display]="!row.ModelIsEdit ? 'none':'block'">
                      </div>
                  </td>
            </ng-container>

            <ng-container matColumnDef="Kabinet.NumberKabinet">
                <th mat-header-cell *matHeaderCellDef mat-sort-header>Кабинет</th>
                  <td [style.background]="row.Statusing?.Color" mat-cell *matCellDef="let row" [matTooltip]="row.Kabinet?.NumberKabinet">
                    <Label [style.display]="row.ModelIsEdit ? 'none':'inline'">{{row.Kabinet?.NumberKabinet}}</Label>
                      <div [ngClass]=row.IdMonitor.toString() id="{{row.IdMonitor}}" [style.display]="!row.ModelIsEdit ? 'none':'block'">
                      </div>
                  </td>
            </ng-container> 

            <ng-container matColumnDef="Coment">
                <th mat-header-cell *matHeaderCellDef mat-sort-header>Коментарий</th>
                  <td [style.background]="row.Statusing?.Color" mat-cell *matCellDef="let row" [matTooltip]="row.Coment">
                    <Label [style.display]="row.ModelIsEdit ? 'none':'inline'">{{row.Coment}}</Label>
                      <div [ngClass]=row.IdMonitor.toString() id="{{row.IdMonitor}}" [style.display]="!row.ModelIsEdit ? 'none':'block'">
                      </div>
                  </td>
            </ng-container>

            <ng-container matColumnDef="Statusing.Name">
                <th mat-header-cell *matHeaderCellDef mat-sort-header>Статус</th>
                  <td [style.background]="row.Statusing?.Color" mat-cell *matCellDef="let row"  [matTooltip]="row.Statusing?.Name">
                    <Label [style.display]="row.ModelIsEdit ? 'none':'inline'">{{row.Statusing?.Name}}</Label>
                      <div [ngClass]=row.IdMonitor.toString() id="{{row.IdMonitor}}" [style.display]="!row.ModelIsEdit ? 'none':'block'">
                      </div>
                  </td>
            </ng-container> 

                     <ng-container matColumnDef="ActionsColumn">  
                        <th mat-header-cell *matHeaderCellDef>
                            <ng-template [ngxPermissionsExcept]="['Оператор','Просмотр']">
                              <button mat-icon-button color="primary" [disabled]="monitor.isAdd" focusable="false" (click)="monitor.add()">
                                <i class="material-icons">person_add</i>
                              </button>
                            </ng-template>
                        </th>
                        <td [style.background]="row.Statusing?.Color" mat-cell *matCellDef="let row">
                            <ng-template [ngxPermissionsExcept]="['Просмотр']">
                              <button mat-icon-button *ngIf="!row.ModelIsEdit" [disabled]="monitor.isEdit" color="accent" (click)="monitor.edit(row)">
                                <i class="material-icons">edit</i>
                              </button>
                            </ng-template>
                        <div *ngIf="row.ModelIsEdit" >
                                <button  mat-icon-button type="submit" [disabled]="monitor.modelvalid.getRowValidatorModel[3].invalid" color="primary" focusable="false" (click)="monitor.save()">
                                        <i class="material-icons">check</i>
                               </button>
                               <button mat-icon-button color="primary" focusable="false" (click)="monitor.cancel(row)">
                                    <i class="material-icons">cancel</i>
                                </button>
                        </div>
                     </td>
                     </ng-container>
                    <tr mat-header-row *matHeaderRowDef="monitor.displayedColumns; sticky: true"></tr>
                    <tr mat-row *matRowDef="let row; columns: monitor.displayedColumns;"></tr>
                </table>
            </div>
                <mat-paginator  class="paginator" #monitors [pageSizeOptions]="[5, 10, 25, paginatormonitors.length]" showFirstLastButtons="true"></mat-paginator>
              </div>

              <div [style.display]="'none'" #TEMPLATEMONITOR>
                  <mat-form-field id="template" class="validation">
                      <mat-select (click)="monitor.calbackfiltersAll()" [placeholder]="monitor.model.User?.Name" [(ngModel)]="monitor.model.User" name="user">
                         <mat-select-filter class="filter" [placeholder]="monitor.model.User?.Name" [displayMember]="'Name'" [array]="monitor.user" (filteredReturn)="monitor.filteredUser =$event">
                          </mat-select-filter>
                            <mat-option [value]='null'>None</mat-option>
                            <mat-option *ngFor="let user of monitor.filteredUser" [value]="user">
                              {{user.Name}}
                            </mat-option>
                      </mat-select>
                  </mat-form-field>
                  <mat-form-field id="template" class="validation">
                      <mat-select (click)="monitor.calbackfiltersAll()"  [placeholder]="monitor.model.Supply?.DatePostavki" [(ngModel)]="monitor.model.Supply" name="supply">
                         <mat-select-filter class="filter" [placeholder]="monitor.model.Supply?.DatePostavki" [displayMember]="'DatePostavki'" [array]="monitor.supples" (filteredReturn)="monitor.filteredSupples =$event">
                          </mat-select-filter>
                            <mat-option [value]='null'>None</mat-option>
                            <mat-option *ngFor="let supply of monitor.filteredSupples" [value]="supply">
                             {{datetemplate(supply.DatePostavki)}}
                            </mat-option>
                      </mat-select>
                  </mat-form-field>
                  <mat-form-field id="template" class="validation">
                      <mat-select (click)="monitor.calbackfiltersAll()" [formControl]="monitor.modelvalid?.getRowValidatorModel[3].get('Model')" [placeholder]="monitor.model.NameMonitor?.Name" [(ngModel)]="monitor.model.NameMonitor" name="model">
                         <mat-select-filter class="filter" [placeholder]="monitor.model.NameMonitor?.Name" [displayMember]="'Name'" [array]="monitor.models" (filteredReturn)="monitor.filteredModels =$event">
                          </mat-select-filter>
                            <mat-option [value]='null'>None</mat-option>
                            <mat-option *ngFor="let model of monitor.filteredModels" [value]="model">
                              {{model.Name}}
                            </mat-option>
                      </mat-select>
                  </mat-form-field>
                  <mat-form-field id="template" class="validation">
                      <input matInput  [formControl]="monitor.modelvalid?.getRowValidatorModel[3].get('SerNum')" placeholder="Сирийный номер" [ngModel]="monitor.model?.SerNum" (ngModelChange)="monitor.model.SerNum = $event"/>
                  </mat-form-field>
                  <mat-form-field id="template" class="validation">
                      <input matInput  [formControl]="monitor.modelvalid?.getRowValidatorModel[3].get('InventarNum')" placeholder="Инвентарный номер" [ngModel]="monitor.model?.InventarNumMonitor" (ngModelChange)="monitor.model.InventarNumMonitor = $event"/>
                  </mat-form-field>
                  <mat-form-field id="template" class="validation">
                      <mat-select (click)="monitor.calbackfiltersAll()" [placeholder]="monitor.model.Kabinet?.NumberKabinet" [(ngModel)]="monitor.model.Kabinet" name="kabinet">
                         <mat-select-filter class="filter" [placeholder]="monitor.model.Kabinet?.NumberKabinet"  [displayMember]="'NumberKabinet'" [array]="monitor.kabinet" (filteredReturn)="monitor.filteredKabinet =$event">
                          </mat-select-filter>
                            <mat-option [value]='null'>None</mat-option>
                            <mat-option *ngFor="let kabinet of monitor.filteredKabinet" [value]="kabinet">
                              {{kabinet.NumberKabinet}}
                            </mat-option>
                      </mat-select>
                  </mat-form-field>
                  <mat-form-field id="template" class="validation">
                      <input matInput placeholder="Коментарий" [ngModel]="monitor.model?.Coment" (ngModelChange)="monitor.model.Coment = $event"/>
                  </mat-form-field>
                  <mat-form-field id="template" class="validation">
                      <mat-select (click)="monitor.calbackfiltersAll()" [placeholder]="monitor.model.Statusing?.Name" [(ngModel)]="monitor.model.Statusing" name="status">
                         <mat-select-filter class="filter" [placeholder]="monitor.model.Statusing?.Name" [array]="monitor.statusing" (filteredReturn)="monitor.filteredStatusing =$event">
                          </mat-select-filter>
                            <mat-option [value]='null'>None</mat-option>
                            <mat-option *ngFor="let status of monitor.filteredStatusing" [value]="status">
                              {{status.Name}}
                            </mat-option>
                      </mat-select>
                  </mat-form-field>
              </div>

        </mat-tab>
        <mat-tab label="ИБП">
            <div class="mat-elevation-z8">

                <form class="search">
                  <mat-form-field class="search_blok">
                        <span matPrefix><i class="material-icons">youtube_searched_for</i></span>
                        <input matInput (keyup)="blockpower.filterstable($event.target.value)" placeholder="Поиск данных">
                  </mat-form-field>
                  <button class="actual" mat-button (click)="excel.ExportTOExcel(tableblockpowers)">Выгрузить ИБП</button>
                </form>
              <div class="tables" #TABLEBLOCKPOWERS >
             
                <table mat-table [dataSource]="blockpower.dataSource" matSort>
                    <ng-container matColumnDef="IdBlockPowers">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header>Id</th>
                          <td [style.background]="row.Statusing?.Color" mat-cell *matCellDef="let row" [matTooltip]="row?.IdBlockPowers">{{row?.IdBlockPowers}}</td>
                    </ng-container>

                    <ng-container matColumnDef="User.Name">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header>Пользователь</th>
                          <td [style.background]="row.Statusing?.Color" mat-cell *matCellDef="let row" [matTooltip]="row.User?.Name">
                            <Label [style.display]="row.ModelIsEdit ? 'none':'inline'">{{row.User?.Name}}</Label>
                              <div [ngClass]=row.IdBlockPowers.toString() id="{{row.IdBlockPowers}}" [style.display]="!row.ModelIsEdit ? 'none':'block'">
                              </div>
                          </td>
                    </ng-container>

                    <ng-container matColumnDef="Supply.DatePostavki">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header>Фактическая дата поставки</th>
                          <td [style.background]="row.Statusing?.Color" mat-cell *matCellDef="let row" [matTooltip]="dp.transform(row.Supply?.DatePostavki,'dd-MM-yyyy')">
                            <Label [style.display]="row.ModelIsEdit ? 'none':'inline'">{{dp.transform(row.Supply?.DatePostavki,'dd-MM-yyyy')}}</Label>
                              <div [ngClass]=row.IdBlockPowers.toString() id="{{row.IdBlockPowers}}" [style.display]="!row.ModelIsEdit ? 'none':'block'">
                              </div>
                          </td>
                    </ng-container>

                    <ng-container matColumnDef="ProizvoditelBlockPower.Name">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header>Производитель</th>
                          <td [style.background]="row.Statusing?.Color" mat-cell *matCellDef="let row" [matTooltip]="row.ProizvoditelBlockPower?.Name">
                            <Label [style.display]="row.ModelIsEdit ? 'none':'inline'">{{row.ProizvoditelBlockPower?.Name}}</Label>
                              <div [ngClass]=row.IdBlockPowers.toString() id="{{row.IdBlockPowers}}" [style.display]="!row.ModelIsEdit ? 'none':'block'">
                              </div>
                          </td>
                    </ng-container>

                    <ng-container matColumnDef="ModelBlockPower.Name">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header>Модель</th>
                          <td [style.background]="row.Statusing?.Color" mat-cell *matCellDef="let row" [matTooltip]="row.ModelBlockPower?.Name">
                            <Label [style.display]="row.ModelIsEdit ? 'none':'inline'">{{row.ModelBlockPower?.Name}}</Label>
                              <div [ngClass]=row.IdBlockPowers.toString() id="{{row.IdBlockPowers}}" [style.display]="!row.ModelIsEdit ? 'none':'block'">
                              </div>
                          </td>
                    </ng-container>

                    <ng-container matColumnDef="ZavNumber">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header>Зав.Номер</th>
                          <td [style.background]="row.Statusing?.Color" mat-cell *matCellDef="let row" [matTooltip]="row.ZavNumber">
                            <Label [style.display]="row.ModelIsEdit ? 'none':'block'">{{row.ZavNumber}}</Label> 
                              <div [ngClass]=row.IdBlockPowers.toString() id="{{row.IdBlockPowers}}" [style.display]="!row.ModelIsEdit ? 'none':'block'">
                              </div>
                          </td>
                    </ng-container>

                    <ng-container matColumnDef="ServiceNumber">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header>Сервисный номер</th>
                          <td [style.background]="row.Statusing?.Color" mat-cell *matCellDef="let row" [matTooltip]="row.ServiceNumber">
                            <Label [style.display]="row.ModelIsEdit ? 'none':'block'">{{row.ServiceNumber}}</Label> 
                              <div [ngClass]=row.IdBlockPowers.toString() id="{{row.IdBlockPowers}}" [style.display]="!row.ModelIsEdit ? 'none':'block'">
                              </div>
                          </td>
                    </ng-container>

                    <ng-container matColumnDef="InventarNumber">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header>Инвентарный номер</th>
                          <td [style.background]="row.Statusing?.Color" mat-cell *matCellDef="let row" [matTooltip]="row.InventarNumber">
                            <Label [style.display]="row.ModelIsEdit ? 'none':'inline'">{{row.InventarNumber}}</Label> 
                              <div [ngClass]=row.IdBlockPowers.toString() id="{{row.IdBlockPowers}}" [style.display]="!row.ModelIsEdit ? 'none':'block'">
                              </div>
                          </td>
                    </ng-container>

                    <ng-container matColumnDef="Coment">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header>Коментарий</th>
                          <td [style.background]="row.Statusing?.Color" mat-cell *matCellDef="let row" [matTooltip]="row.Coment">
                            <Label [style.display]="row.ModelIsEdit ? 'none':'inline'">{{row.Coment}}</Label>
                              <div [ngClass]=row.IdBlockPowers.toString() id="{{row.IdBlockPowers}}" [style.display]="!row.ModelIsEdit ? 'none':'block'">
                              </div>
                          </td>
                    </ng-container>

                    <ng-container matColumnDef="Kabinet.NumberKabinet">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header>Кабинет</th>
                          <td [style.background]="row.Statusing?.Color" mat-cell *matCellDef="let row" [matTooltip]="row.Kabinet?.NumberKabinet">
                            <Label [style.display]="row.ModelIsEdit ? 'none':'inline'">{{row.Kabinet?.NumberKabinet}}</Label>
                              <div [ngClass]=row.IdBlockPowers.toString() id="{{row.IdBlockPowers}}" [style.display]="!row.ModelIsEdit ? 'none':'block'">
                              </div>
                          </td>
                    </ng-container> 

                    <ng-container matColumnDef="Statusing.Name">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header>Статус</th>
                          <td [style.background]="row.Statusing?.Color" mat-cell *matCellDef="let row" [matTooltip]="row.Statusing?.Name">
                            <Label [style.display]="row.ModelIsEdit ? 'none':'inline'">{{row.Statusing?.Name}}</Label>
                              <div [ngClass]=row.IdBlockPowers.toString() id="{{row.IdBlockPowers}}" [style.display]="!row.ModelIsEdit ? 'none':'block'">
                              </div>
                          </td>
                    </ng-container> 

                    <ng-container matColumnDef="ActionsColumn">  
                        <th mat-header-cell *matHeaderCellDef>
                            <ng-template [ngxPermissionsExcept]="['Оператор','Просмотр']">
                              <button mat-icon-button color="primary" [disabled]="blockpower.isAdd" focusable="false" (click)="blockpower.add()">
                                <i class="material-icons">person_add</i>
                              </button>
                            </ng-template>
                        </th>
                        <td [style.background]="row.Statusing?.Color" mat-cell *matCellDef="let row">
                            <ng-template [ngxPermissionsExcept]="['Просмотр']">
                              <button mat-icon-button *ngIf="!row.ModelIsEdit" [disabled]="blockpower.isEdit" color="accent" (click)="blockpower.edit(row)">
                                <i class="material-icons">edit</i>
                              </button>
                            </ng-template>
                        <div *ngIf="row.ModelIsEdit" >
                                <button  mat-icon-button type="submit" [disabled]="blockpower.modelvalid.getRowValidatorModel[5].invalid" color="primary" focusable="false" (click)="blockpower.save()">
                                        <i class="material-icons">check</i>
                               </button>
                               <button mat-icon-button color="primary" focusable="false" (click)="blockpower.cancel(row)">
                                    <i class="material-icons">cancel</i>
                                </button>
                        </div>
                     </td>
                     </ng-container>

                    <tr mat-header-row *matHeaderRowDef="blockpower.displayedColumns; sticky: true"></tr>
                    <tr mat-row *matRowDef="let row; columns: blockpower.displayedColumns;"></tr>
                </table>
             </div>
             <mat-paginator class="paginator" #blockpowers [pageSizeOptions]="[5, 10, 25, paginatorblockpower.length]" showFirstLastButtons="true"></mat-paginator>
            </div>

           <div [style.display]="'none'" #TEMPLATEBLOCKPOWER>
              <mat-form-field id="template" class="validation">
                  <mat-select (click)="blockpower.calbackfiltersAll()" [placeholder]="blockpower.model.User?.Name" [(ngModel)]="blockpower.model.User" name="user">
                     <mat-select-filter class="filter" [placeholder]="blockpower.model.User?.Name" [displayMember]="'Name'" [array]="blockpower.user" (filteredReturn)="blockpower.filteredUser =$event">
                      </mat-select-filter>
                        <mat-option [value]='null'>None</mat-option>
                        <mat-option *ngFor="let user of blockpower.filteredUser" [value]="user">
                          {{user.Name}}
                        </mat-option>
                  </mat-select>
              </mat-form-field>
              <mat-form-field id="template" class="validation">
                  <mat-select (click)="blockpower.calbackfiltersAll()"  [placeholder]="blockpower.model.Supply?.DatePostavki" [(ngModel)]="blockpower.model.Supply" name="supply">
                     <mat-select-filter class="filter" [placeholder]="blockpower.model.Supply?.DatePostavki" [displayMember]="'DatePostavki'" [array]="blockpower.supples" (filteredReturn)="blockpower.filteredSupples =$event">
                      </mat-select-filter>
                        <mat-option [value]='null'>None</mat-option>
                        <mat-option *ngFor="let supply of blockpower.filteredSupples" [value]="supply">
                           {{datetemplate(supply.DatePostavki)}}
                        </mat-option>
                  </mat-select>
              </mat-form-field>
              <mat-form-field id="template" class="validation">
                  <mat-select (click)="blockpower.calbackfiltersAll()" [formControl]="blockpower.modelvalid?.getRowValidatorModel[5].get('Proizvoditel')" [placeholder]="blockpower.model.ProizvoditelBlockPower?.Name" [(ngModel)]="blockpower.model.ProizvoditelBlockPower" name="proizvoditel">
                     <mat-select-filter class="filter" [placeholder]="blockpower.model.ProizvoditelBlockPower?.Name" [displayMember]="'Name'" [array]="blockpower.proizvoditel" (filteredReturn)="blockpower.filteredProizvoditel =$event">
                      </mat-select-filter>
                        <mat-option [value]='null'>None</mat-option>
                        <mat-option *ngFor="let proizvoditel of blockpower.filteredProizvoditel" [value]="proizvoditel">
                          {{proizvoditel.Name}}
                        </mat-option>
                  </mat-select>
              </mat-form-field>
              <mat-form-field id="template" class="validation">
                  <mat-select (click)="blockpower.calbackfiltersAll()" [formControl]="blockpower.modelvalid?.getRowValidatorModel[5].get('Model')" [placeholder]="blockpower.model.ModelBlockPower?.Name" [(ngModel)]="blockpower.model.ModelBlockPower" name="models">
                     <mat-select-filter class="filter" [placeholder]="blockpower.model.ModelBlockPower?.Name" [displayMember]="'Name'" [array]="blockpower.models" (filteredReturn)="blockpower.filteredModels =$event">
                      </mat-select-filter>
                        <mat-option [value]='null'>None</mat-option>
                        <mat-option *ngFor="let models of blockpower.filteredModels" [value]="models">
                          {{models.Name}}
                        </mat-option>
                  </mat-select>
              </mat-form-field>
              <mat-form-field id="template" class="validation">
                  <input matInput [formControl]="blockpower.modelvalid?.getRowValidatorModel[5].get('ZavNum')" placeholder="Заводской номер" [ngModel]="blockpower.model?.ZavNumber" (ngModelChange)="blockpower.model.ZavNumber = $event"/>
              </mat-form-field> 
              <mat-form-field id="template" class="validation">
                  <input matInput placeholder="Сервисный номер" [ngModel]="blockpower.model?.ServiceNumber" (ngModelChange)="blockpower.model.ServiceNumber = $event"/>
              </mat-form-field> 
              <mat-form-field id="template" class="validation">
                  <input matInput  [formControl]="blockpower.modelvalid?.getRowValidatorModel[5].get('InventarNum')" placeholder="Инвентарный номер" [ngModel]="blockpower.model?.InventarNumber" (ngModelChange)="blockpower.model.InventarNumber = $event"/>
              </mat-form-field>
              <mat-form-field id="template" class="validation">
                  <input matInput placeholder="Коментарий" [ngModel]="blockpower.model?.Coment" (ngModelChange)="blockpower.model.Coment = $event"/>
              </mat-form-field>
              <mat-form-field id="template" class="validation">
                  <mat-select (click)="blockpower.calbackfiltersAll()" [placeholder]="blockpower.model.Kabinet?.NumberKabinet" [(ngModel)]="blockpower.model.Kabinet" name="kabinet">
                     <mat-select-filter class="filter" [placeholder]="blockpower.model.Kabinet?.NumberKabinet"  [displayMember]="'NumberKabinet'" [array]="blockpower.kabinet" (filteredReturn)="blockpower.filteredKabinet =$event">
                      </mat-select-filter>
                        <mat-option [value]='null'>None</mat-option>
                        <mat-option *ngFor="let kabinet of blockpower.filteredKabinet" [value]="kabinet">
                          {{kabinet.NumberKabinet}}
                        </mat-option>
                  </mat-select>
              </mat-form-field>
              <mat-form-field id="template" class="validation">
                  <mat-select (click)="blockpower.calbackfiltersAll()" [placeholder]="blockpower.model.Statusing?.Name" [(ngModel)]="blockpower.model.Statusing" name="status">
                     <mat-select-filter class="filter" [placeholder]="blockpower.model.Statusing?.Name" [array]="blockpower.statusing" (filteredReturn)="blockpower.filteredStatusing =$event">
                      </mat-select-filter>
                        <mat-option [value]='null'>None</mat-option>
                        <mat-option *ngFor="let status of blockpower.filteredStatusing" [value]="status">
                          {{status.Name}}
                        </mat-option>
                  </mat-select>
              </mat-form-field>
           </div>
        </mat-tab> 
        <mat-tab label="Коммутаторы"> 
          <div class="mat-elevation-z8">
            <form class="search">
              <mat-form-field class="search_blok">
                    <span matPrefix><i class="material-icons">youtube_searched_for</i></span>
                    <input matInput (keyup)="switch.filterstable($event.target.value)" placeholder="Поиск данных">
              </mat-form-field>
              <button class="actual" mat-button (click)="excel.ExportTOExcel(tableblockpowers)">Выгрузить ИБП</button>
            </form>
              <div class="tables" #TABLESWITHES>
                <table mat-table [dataSource]="switch.dataSource" matSort>
                  <ng-container matColumnDef="IdSwithes">
                      <th mat-header-cell *matHeaderCellDef mat-sort-header>Id</th>
                        <td [style.background]="row.Statusing?.Color" mat-cell *matCellDef="let row" [matTooltip]="row?.IdSwithes">{{row?.IdSwithes}}</td>
                  </ng-container>

                  <ng-container matColumnDef="User.Name">
                      <th mat-header-cell *matHeaderCellDef mat-sort-header>Пользователь</th>
                        <td [style.background]="row.Statusing?.Color" mat-cell *matCellDef="let row" [matTooltip]="row.User?.Name">
                          <Label [style.display]="row.ModelIsEdit ? 'none':'inline'">{{row.User?.Name}}</Label>
                            <div [ngClass]=row.IdSwithes.toString() id="{{row.IdSwithes}}" [style.display]="!row.ModelIsEdit ? 'none':'block'">
                            </div>
                        </td>
                  </ng-container>

                  <ng-container matColumnDef="Supply.DatePostavki">
                      <th mat-header-cell *matHeaderCellDef mat-sort-header>Фактическая дата поставки</th>
                        <td [style.background]="row.Statusing?.Color" mat-cell *matCellDef="let row" [matTooltip]="dp.transform(row.Supply?.DatePostavki,'dd-MM-yyyy')">
                          <Label [style.display]="row.ModelIsEdit ? 'none':'inline'">{{dp.transform(row.Supply?.DatePostavki,'dd-MM-yyyy')}}</Label>
                            <div [ngClass]=row.IdSwithes.toString() id="{{row.IdSwithes}}" [style.display]="!row.ModelIsEdit ? 'none':'block'">
                            </div>
                        </td>
                  </ng-container>

                  <ng-container matColumnDef="ModelSwithes.NameModel">
                      <th mat-header-cell *matHeaderCellDef mat-sort-header>Модель</th>
                        <td [style.background]="row.Statusing?.Color" mat-cell *matCellDef="let row" [matTooltip]="row.ModelSwithe?.NameModel">
                          <Label [style.display]="row.ModelIsEdit ? 'none':'inline'">{{row.ModelSwithe?.NameModel}}</Label>
                            <div [ngClass]=row.IdSwithes.toString() id="{{row.IdSwithes}}" [style.display]="!row.ModelIsEdit ? 'none':'block'">
                            </div>
                        </td>
                  </ng-container>

                  <ng-container matColumnDef="ModelSwithes.CountPort">
                      <th mat-header-cell *matHeaderCellDef mat-sort-header>Колличество портов</th>
                        <td [style.background]="row.Statusing?.Color" mat-cell *matCellDef="let row" [matTooltip]="row.ModelSwithe?.CountPort">
                            <Label [style.display]="row.ModelIsEdit ? 'none':'inline'">{{row.ModelSwithe?.CountPort}}</Label> 
                            <div [style.display]="!row.ModelIsEdit ? 'none':'block'">
                                <label>{{switch.model?.ModelSwithe?.CountPort}}</label> 
                             </div>
                        </td>
                  </ng-container>

                  <ng-container matColumnDef="ServiceNum">
                      <th mat-header-cell *matHeaderCellDef mat-sort-header>Сервисный номер</th>
                        <td [style.background]="row.Statusing?.Color" mat-cell *matCellDef="let row" [matTooltip]="row.ServiceNum">
                          <Label [style.display]="row.ModelIsEdit ? 'none':'block'">{{row.ServiceNum}}</Label> 
                            <div [ngClass]=row.IdSwithes.toString() id="{{row.IdSwithes}}" [style.display]="!row.ModelIsEdit ? 'none':'block'">
                            </div>
                        </td>
                  </ng-container>

                  <ng-container matColumnDef="SerNum">
                      <th mat-header-cell *matHeaderCellDef mat-sort-header>Серийный номер</th>
                        <td [style.background]="row.Statusing?.Color" mat-cell *matCellDef="let row" [matTooltip]="row.SerNum">
                          <Label [style.display]="row.ModelIsEdit ? 'none':'block'">{{row.SerNum}}</Label> 
                            <div [ngClass]=row.IdSwithes.toString() id="{{row.IdSwithes}}" [style.display]="!row.ModelIsEdit ? 'none':'block'">
                            </div>
                        </td>
                  </ng-container>

                  <ng-container matColumnDef="InventarNum">
                      <th mat-header-cell *matHeaderCellDef mat-sort-header>Инвентарный номер</th>
                        <td [style.background]="row.Statusing?.Color" mat-cell *matCellDef="let row" [matTooltip]="row.InventarNum">
                          <Label [style.display]="row.ModelIsEdit ? 'none':'inline'">{{row.InventarNum}}</Label> 
                            <div [ngClass]=row.IdSwithes.toString() id="{{row.IdSwithes}}" [style.display]="!row.ModelIsEdit ? 'none':'block'">
                            </div>
                        </td>
                  </ng-container>

                  <ng-container matColumnDef="Coment">
                      <th mat-header-cell *matHeaderCellDef mat-sort-header>Коментарий</th>
                        <td [style.background]="row.Statusing?.Color" mat-cell *matCellDef="let row" [matTooltip]="row.Coment">
                          <Label [style.display]="row.ModelIsEdit ? 'none':'inline'">{{row.Coment}}</Label>
                            <div [ngClass]=row.IdSwithes.toString() id="{{row.IdSwithes}}" [style.display]="!row.ModelIsEdit ? 'none':'block'">
                            </div>
                        </td>
                  </ng-container>

                  <ng-container matColumnDef="Kabinet.NumberKabinet">
                      <th mat-header-cell *matHeaderCellDef mat-sort-header>Кабинет</th>
                        <td [style.background]="row.Statusing?.Color" mat-cell *matCellDef="let row" [matTooltip]="row.Kabinet?.NumberKabinet">
                          <Label [style.display]="row.ModelIsEdit ? 'none':'inline'">{{row.Kabinet?.NumberKabinet}}</Label>
                            <div [ngClass]=row.IdSwithes.toString() id="{{row.IdSwithes}}" [style.display]="!row.ModelIsEdit ? 'none':'block'">
                            </div>
                        </td>
                  </ng-container> 

                  <ng-container matColumnDef="Statusing.Name">
                      <th mat-header-cell *matHeaderCellDef mat-sort-header>Статус</th>
                        <td [style.background]="row.Statusing?.Color" mat-cell *matCellDef="let row" [matTooltip]="row.Statusing?.Name">
                          <Label [style.display]="row.ModelIsEdit ? 'none':'inline'">{{row.Statusing?.Name}}</Label>
                            <div [ngClass]=row.IdSwithes.toString() id="{{row.IdSwithes}}" [style.display]="!row.ModelIsEdit ? 'none':'block'">
                            </div>
                        </td>
                  </ng-container> 

                  <ng-container matColumnDef="ActionsColumn">  
                      <th mat-header-cell *matHeaderCellDef>
                          <ng-template [ngxPermissionsExcept]="['Оператор','Просмотр']">
                            <button mat-icon-button color="primary" [disabled]="switch.isAdd" focusable="false" (click)="switch.add()">
                                <i class="material-icons">person_add</i>
                            </button>
                          </ng-template>
                      </th>
                      <td [style.background]="row.Statusing?.Color" mat-cell *matCellDef="let row">
                          <ng-template [ngxPermissionsExcept]="['Просмотр']">
                            <button mat-icon-button *ngIf="!row.ModelIsEdit" [disabled]="switch.isEdit" color="accent" (click)="switch.edit(row)">
                              <i class="material-icons">edit</i>
                            </button>
                          </ng-template>
                      <div *ngIf="row.ModelIsEdit" >
                              <button  mat-icon-button type="submit" [disabled]="switch.modelvalid.getRowValidatorModel[7].invalid" color="primary" focusable="false" (click)="switch.save()">
                                      <i class="material-icons">check</i>
                             </button>
                             <button mat-icon-button color="primary" focusable="false" (click)="switch.cancel(row)">
                                  <i class="material-icons">cancel</i>
                              </button>
                      </div>
                   </td>
                   </ng-container>

                  <tr mat-header-row *matHeaderRowDef="switch.displayedColumns; sticky: true"></tr>
                  <tr mat-row *matRowDef="let row; columns: switch.displayedColumns;"></tr>
              </table>
           </div>
           <mat-paginator class="paginator" #swithes [pageSizeOptions]="[5, 10, 25, paginatorswithes.length]" showFirstLastButtons="true"></mat-paginator>
          </div>
             <div [style.display]="'none'" #TEMPLATESWITHES>
              <mat-form-field id="template" class="validation">
                <mat-select (click)="switch.calbackfiltersAll()" [placeholder]="switch.model.User?.Name" [(ngModel)]="switch.model.User" name="user">
                   <mat-select-filter class="filter" [placeholder]="switch.model.User?.Name" [displayMember]="'Name'" [array]="switch.user" (filteredReturn)="switch.filteredUser =$event">
                    </mat-select-filter>
                      <mat-option [value]='null'>None</mat-option>
                      <mat-option *ngFor="let user of switch.filteredUser" [value]="user">
                        {{user.Name}}
                      </mat-option>
                </mat-select>
              </mat-form-field>
              <mat-form-field id="template" class="validation">
                <mat-select (click)="switch.calbackfiltersAll()"  [placeholder]="switch.model.Supply?.DatePostavki" [(ngModel)]="switch.model.Supply" name="supply">
                   <mat-select-filter class="filter" [placeholder]="switch.model.Supply?.DatePostavki" [displayMember]="'DatePostavki'" [array]="switch.supples" (filteredReturn)="switch.filteredSupples =$event">
                    </mat-select-filter>
                      <mat-option [value]='null'>None</mat-option>
                      <mat-option *ngFor="let supply of switch.filteredSupples" [value]="supply">
                         {{datetemplate(supply.DatePostavki)}}
                      </mat-option>
                </mat-select>
              </mat-form-field>
              <mat-form-field id="template" class="validation">
              <mat-select (click)="switch.calbackfiltersAll()" [formControl]="switch.modelvalid?.getRowValidatorModel[7].get('Model')" [placeholder]="switch.model.ModelSwithe?.NameModel" [(ngModel)]="switch.model.ModelSwithe" name="models">
                 <mat-select-filter class="filter" [placeholder]="switch.model.ModelSwithe?.NameModel" [displayMember]="'NameModel'" [array]="switch.models" (filteredReturn)="switch.filteredModels =$event">
                  </mat-select-filter>
                    <mat-option [value]='null'>None</mat-option>
                    <mat-option *ngFor="let models of switch.filteredModels" [value]="models">
                      {{models.NameModel}}
                    </mat-option>
              </mat-select>
              </mat-form-field>
              <mat-form-field id="template" class="validation">
                 <input matInput placeholder="Сервисный номер" [ngModel]="switch.model?.ServiceNumber" (ngModelChange)="switch.model.ServiceNumber = $event"/>
              </mat-form-field>
              <mat-form-field id="template" class="validation">
                 <input matInput [formControl]="switch.modelvalid?.getRowValidatorModel[7].get('SerNum')" placeholder="Заводской номер" [ngModel]="switch.model?.SerNum" (ngModelChange)="switch.model.SerNum = $event"/>
              </mat-form-field> 
              <mat-form-field id="template" class="validation">
                 <input matInput [formControl]="switch.modelvalid?.getRowValidatorModel[7].get('InventarNum')" placeholder="Инвентарный номер" [ngModel]="switch.model?.InventarNum" (ngModelChange)="switch.model.InventarNum = $event"/>
              </mat-form-field> 
              <mat-form-field id="template" class="validation">
                 <input matInput placeholder="Коментарий" [ngModel]="switch.model?.Coment" (ngModelChange)="switch.model.Coment = $event"/>
              </mat-form-field>
              <mat-form-field id="template" class="validation">
                <mat-select (click)="switch.calbackfiltersAll()" [placeholder]="switch.model.Kabinet?.NumberKabinet" [(ngModel)]="switch.model.Kabinet" name="kabinet">
                  <mat-select-filter class="filter" [placeholder]="switch.model.Kabinet?.NumberKabinet"  [displayMember]="'NumberKabinet'" [array]="switch.kabinet" (filteredReturn)="switch.filteredKabinet =$event">
                   </mat-select-filter>
                    <mat-option [value]='null'>None</mat-option>
                    <mat-option *ngFor="let kabinet of switch.filteredKabinet" [value]="kabinet">
                      {{kabinet.NumberKabinet}}
                    </mat-option>
                   </mat-select>
              </mat-form-field>
              <mat-form-field id="template" class="validation">
                 <mat-select (click)="switch.calbackfiltersAll()" [placeholder]="switch.model.Statusing?.Name" [(ngModel)]="switch.model.Statusing" name="status">
                   <mat-select-filter class="filter" [placeholder]="switch.model.Statusing?.Name" [array]="switch.statusing" (filteredReturn)="switch.filteredStatusing =$event">
                   </mat-select-filter>
                     <mat-option [value]='null'>None</mat-option>
                     <mat-option *ngFor="let status of switch.filteredStatusing" [value]="status">
                       {{status.Name}}
                   </mat-option>
                 </mat-select>
              </mat-form-field>
             </div>
        </mat-tab>
</mat-tab-group>
<div [style.display]="isload ? 'inline':'none'">
    <p>Идет загрузка данных подождите пожалуйста!!!</p>
    <mat-progress-bar mode="indeterminate"></mat-progress-bar>
    <div class="messages" *ngFor="let message of loadMessage">
        <p>{{message}}</p>
    </div>
</div>

